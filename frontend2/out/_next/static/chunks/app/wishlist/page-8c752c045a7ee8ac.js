(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{1090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),i=r(6874),o=r.n(i),c=r(1703);function d(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[d,l]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,c.BH)();t(e||[])}catch(e){l("Failed to load wishlist"),console.error(e)}finally{i(!1)}})()},[]);let n=async e=>{try{await (0,c.Qg)(e),t(t=>t.filter(t=>t.product_id!==e))}catch(e){console.error("Error removing from wishlist:",e)}},h=e=>{alert("Added ".concat(e.product_name," to cart!"))};return r?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#2874f0] mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading your wishlist..."})]})}):d?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("i",{className:"ri-error-warning-line text-6xl text-red-500 mb-4 w-24 h-24 flex items-center justify-center mx-auto"}),(0,s.jsx)("p",{className:"text-red-600 text-lg",children:d})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm mb-6 text-gray-600",children:[(0,s.jsx)(o(),{href:"/",className:"hover:text-[#2874f0] cursor-pointer",children:"Home"}),(0,s.jsx)("i",{className:"ri-arrow-right-line w-4 h-4 flex items-center justify-center"}),(0,s.jsx)("span",{className:"text-gray-800",children:"My Wishlist"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Wishlist"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Save items you love for later"})]}),0===e.length?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[(0,s.jsx)("i",{className:"ri-heart-line text-6xl text-gray-300 mb-6 w-24 h-24 flex items-center justify-center mx-auto"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your Wishlist is Empty"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Add items to your wishlist and save them for later!"}),(0,s.jsx)(o(),{href:"/",className:"inline-block bg-[#2874f0] text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-600 transition-colors whitespace-nowrap cursor-pointer",children:"Start Shopping"})]}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Your Wishlist (",e.length," items)"]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-6",children:e.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(o(),{href:"/product/".concat(e.product_id),children:(0,s.jsx)("img",{src:e.product_image||"https://via.placeholder.com/150",alt:e.product_name,className:"w-full h-48 object-cover rounded-md cursor-pointer object-top"})}),(0,s.jsx)("button",{onClick:()=>n(e.product_id),className:"absolute top-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md hover:bg-red-50 cursor-pointer",children:(0,s.jsx)("i",{className:"ri-close-line text-gray-600 hover:text-red-500 w-4 h-4 flex items-center justify-center"})})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:e.category}),(0,s.jsx)(o(),{href:"/product/".concat(e.product_id),children:(0,s.jsx)("h3",{className:"font-medium text-gray-800 hover:text-[#2874f0] cursor-pointer line-clamp-2 text-sm",children:e.product_name})})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["â‚¹",e.price.toLocaleString()]})}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>h(e),className:"flex-1 bg-[#2874f0] text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-blue-600 transition-colors whitespace-nowrap cursor-pointer",children:"Add to Cart"}),(0,s.jsx)(o(),{href:"/product/".concat(e.product_id),children:(0,s.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 whitespace-nowrap cursor-pointer",children:"View"})})]}),(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Added on ",new Date(e.created_at).toLocaleDateString()]})]},e.id))})]}),e.length>0&&(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Share Your Wishlist"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Let others know what you're interested in"}),(0,s.jsxs)("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-200 transition-colors whitespace-nowrap cursor-pointer",children:[(0,s.jsx)("i",{className:"ri-share-line mr-2 w-4 h-4 flex items-center justify-center inline"}),"Share Wishlist"]})]})]})]})})}},1703:(e,t,r)=>{"use strict";r.d(t,{BH:()=>c,FK:()=>a,Jr:()=>h,Qg:()=>o,U4:()=>i,dP:()=>n,hh:()=>d,ky:()=>l,oE:()=>m});var s=r(3168);let a=async()=>{try{let{data:{user:e}}=await s.N.auth.getUser();if(!e)throw Error("User not authenticated");let{data:t,error:r}=await s.N.from("orders").select("\n        *,\n        order_items (*)\n      ").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t}catch(e){throw console.error("Error fetching orders:",e),e}},i=async e=>{try{let{data:{user:t}}=await s.N.auth.getUser();if(!t)throw Error("User not authenticated");let{error:r}=await s.N.from("wishlist").upsert({user_id:t.id,product_id:e.id,product_name:e.name,product_image:e.image,price:e.price,category:e.category});if(r)throw r}catch(e){throw console.error("Error adding to wishlist:",e),e}},o=async e=>{try{let{data:{user:t}}=await s.N.auth.getUser();if(!t)throw Error("User not authenticated");let{error:r}=await s.N.from("wishlist").delete().eq("user_id",t.id).eq("product_id",e);if(r)throw r}catch(e){throw console.error("Error removing from wishlist:",e),e}},c=async()=>{try{let{data:{user:e}}=await s.N.auth.getUser();if(!e)throw Error("User not authenticated");let{data:t,error:r}=await s.N.from("wishlist").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t}catch(e){throw console.error("Error fetching wishlist:",e),e}},d=async e=>{try{let{data:{user:t}}=await s.N.auth.getUser();if(!t)throw Error("User not authenticated");let{error:r}=await s.N.from("saved_items").upsert({user_id:t.id,product_id:e.id,product_name:e.name,product_image:e.image,price:e.price,category:e.category});if(r)throw r}catch(e){throw console.error("Error saving for later:",e),e}},l=async()=>{try{let{data:{user:e}}=await s.N.auth.getUser();if(!e)throw Error("User not authenticated");let{data:t,error:r}=await s.N.from("saved_items").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t}catch(e){throw console.error("Error fetching saved items:",e),e}},n=async e=>{try{let{data:{user:t}}=await s.N.auth.getUser();if(!t)throw Error("User not authenticated");let{error:r}=await s.N.from("saved_items").delete().eq("user_id",t.id).eq("product_id",e);if(r)throw r}catch(e){throw console.error("Error removing saved item:",e),e}},h=async(e,t,r)=>{try{let{data:{user:a}}=await s.N.auth.getUser();if(!a)throw Error("User not authenticated");let{error:i}=await s.N.from("product_reviews").upsert({user_id:a.id,product_id:e,rating:t,comment:r,verified_purchase:!1});if(i)throw i}catch(e){throw console.error("Error adding review:",e),e}},m=async()=>{try{let{data:{user:e}}=await s.N.auth.getUser();if(!e)throw Error("User not authenticated");let{data:t,error:r}=await s.N.from("user_preferences").select("*").eq("user_id",e.id).single();if(r&&"PGRST116"!==r.code)throw r;return t}catch(e){throw console.error("Error fetching preferences:",e),e}}},2276:(e,t,r)=>{Promise.resolve().then(r.bind(r,1090))},3168:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});let s=(0,r(5647).UU)("https://ipafdwwlinovyuvkqitg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwYWZkd3dsaW5vdnl1dmtxaXRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMTQ4OTEsImV4cCI6MjA2OTY5MDg5MX0.1CiHbIrNE7Z2EXOooZlsOEOPJtFrGd6szOPDSJ1gVaQ")}},e=>{var t=t=>e(e.s=t);e.O(0,[874,641,647,441,684,358],()=>t(2276)),_N_E=e.O()}]);