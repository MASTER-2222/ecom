(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2470:(e,s,a)=>{Promise.resolve().then(a.bind(a,5148))},5148:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(2115);function r(e){let{onUploadSuccess:s,folders:a}=e,[r,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),[n,o]=(0,l.useState)([]),[m,x]=(0,l.useState)(a[0]),[u,h]=(0,l.useState)(""),[g,p]=(0,l.useState)(""),b=async()=>{if(!r||0===r.length)return void alert("Please select files to upload");d(!0),o([]);try{let e=[];for(let s=0;s<r.length;s++){let a=r[s],t=new FormData;t.append("file",a),t.append("folder",m),u.trim()&&t.append("tags",u),g.trim()&&1===r.length&&t.append("publicId",g);try{let s=await fetch("".concat("http://localhost:8080/api","/admin/images/upload"),{method:"POST",body:t}),l=await s.json();l.success?e.push({success:!0,filename:a.name,public_id:l.data.public_id,secure_url:l.data.secure_url}):e.push({success:!1,filename:a.name,error:l.error})}catch(s){e.push({success:!1,filename:a.name,error:s instanceof Error?s.message:"Upload failed"})}}o(e),e.some(e=>e.success)&&s()}catch(e){console.error("Upload error:",e)}finally{d(!1)}},f=async()=>{if(!r||0===r.length)return void alert("Please select files to upload");d(!0),o([]);try{let e=new FormData;Array.from(r).forEach(s=>{e.append("files",s)}),e.append("folder",m),u.trim()&&e.append("tags",u);let a=await fetch("".concat("http://localhost:8080/api","/admin/images/upload-multiple"),{method:"POST",body:e}),t=await a.json();t.success?(o(t.data.results||[]),s()):o([{success:!1,error:t.error}])}catch(e){console.error("Upload error:",e),o([{success:!1,error:e instanceof Error?e.message:"Upload failed"}])}finally{d(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-4xl mb-4 block",children:"\uD83D\uDCE4"}),(0,t.jsx)("label",{htmlFor:"file-input",className:"mt-2 block text-sm font-medium text-gray-900 cursor-pointer",children:"Select Images to Upload"}),(0,t.jsx)("input",{id:"file-input",type:"file",multiple:!0,accept:"image/*",onChange:e=>{let s=e.target.files;if(s&&s.length>10)return void alert("Maximum 10 files can be uploaded at once");i(s),o([])},className:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB each. Maximum 10 files."})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Folder"}),(0,t.jsx)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:a.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("ritkart/","")},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"product, electronics, featured",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Public ID (single file only)"}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"custom-image-name",disabled:!!(r&&r.length>1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),r&&r.length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Selected Files (",r.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:Array.from(r).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-white rounded px-3 py-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",(e.size/1024/1024).toFixed(2)," MB)"]})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.type})]},s))})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsx)("button",{onClick:b,disabled:!r||0===r.length||c,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?"Uploading...":"Upload Individual"}),(0,t.jsx)("button",{onClick:f,disabled:!r||0===r.length||c,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:c?"Uploading...":"Upload Batch"}),(0,t.jsx)("button",{onClick:()=>{i(null),o([]);let e=document.getElementById("file-input");e&&(e.value="")},disabled:c,className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Clear"})]}),c&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"ml-3 text-sm text-blue-700",children:"Uploading images..."})]})}),n.length>0&&(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Upload Results"}),(0,t.jsx)("div",{className:"space-y-2",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded ".concat(e.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:e.success?"✅":"❌"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium ".concat(e.success?"text-green-900":"text-red-900"),children:e.filename}),e.success&&e.public_id&&(0,t.jsxs)("p",{className:"text-xs text-green-700",children:["ID: ",e.public_id]}),!e.success&&e.error&&(0,t.jsxs)("p",{className:"text-xs text-red-700",children:["Error: ",e.error]})]})]}),e.success&&e.secure_url&&(0,t.jsx)("a",{href:e.secure_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"})]},s))})]})]})}function i(e){let{onUploadComplete:s,onUploadError:a}=e,[r,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)({}),[n,o]=(0,l.useState)([]),[m,x]=(0,l.useState)("electronics"),u={electronics:[{name:"samsung-galaxy-s24-ultra",url:"https://images.unsplash.com/photo-1610945265064-0e34e5519bbf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80",folder:"ritkart/electronics",tags:["smartphone","samsung","android","electronics"],category:"Electronics"},{name:"iphone-15-pro-max",url:"https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80",folder:"ritkart/electronics",tags:["smartphone","iphone","apple","electronics"],category:"Electronics"},{name:"sony-wh1000xm5",url:"https://images.unsplash.com/photo-1583394838336-acd977736f90?ixlib=rb-4.0.3&auto=format&fit=crop&w=1484&q=80",folder:"ritkart/electronics",tags:["headphones","sony","audio","electronics"],category:"Electronics"},{name:"macbook-air-m2",url:"https://images.unsplash.com/photo-1541807084-5c52b6b3adef?ixlib=rb-4.0.3&auto=format&fit=crop&w=1487&q=80",folder:"ritkart/electronics",tags:["laptop","macbook","apple","electronics"],category:"Electronics"},{name:"dell-xps-13",url:"https://images.unsplash.com/photo-1593642632823-8f785ba67e45?ixlib=rb-4.0.3&auto=format&fit=crop&w=1632&q=80",folder:"ritkart/electronics",tags:["laptop","dell","windows","electronics"],category:"Electronics"}],fashion:[{name:"levis-jeans-men",url:"https://images.unsplash.com/photo-1542272604-787c3835535d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1626&q=80",folder:"ritkart/fashion",tags:["jeans","levis","men","fashion"],category:"Fashion"},{name:"womens-floral-dress",url:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1583&q=80",folder:"ritkart/fashion",tags:["dress","floral","women","fashion"],category:"Fashion"},{name:"nike-air-max",url:"https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=1612&q=80",folder:"ritkart/fashion",tags:["sneakers","nike","shoes","fashion"],category:"Fashion"},{name:"leather-handbag",url:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&auto=format&fit=crop&w=1587&q=80",folder:"ritkart/fashion",tags:["handbag","leather","women","fashion"],category:"Fashion"}],home:[{name:"sofa-set-3-seater",url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1558&q=80",folder:"ritkart/home",tags:["sofa","furniture","living-room","home"],category:"Home & Furniture"},{name:"dining-table-6-seater",url:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80",folder:"ritkart/home",tags:["dining-table","furniture","dining-room","home"],category:"Home & Furniture"},{name:"ceramic-dinner-set",url:"https://images.unsplash.com/photo-1578749556568-bc2c40e68b61?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80",folder:"ritkart/home",tags:["dinnerware","ceramic","kitchen","home"],category:"Home & Furniture"}],mobiles:[{name:"oneplus-12",url:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1480&q=80",folder:"ritkart/mobiles",tags:["smartphone","oneplus","android","mobiles"],category:"Mobiles"},{name:"google-pixel-8",url:"https://images.unsplash.com/photo-1574944985070-8f3ebc6b79d2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1548&q=80",folder:"ritkart/mobiles",tags:["smartphone","google","pixel","mobiles"],category:"Mobiles"},{name:"xiaomi-14-ultra",url:"https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1629&q=80",folder:"ritkart/mobiles",tags:["smartphone","xiaomi","android","mobiles"],category:"Mobiles"}]},h=async e=>{try{let s=await fetch(e.url),a=await s.blob(),t=new FormData;t.append("file",a,"".concat(e.name,".jpg")),t.append("folder",e.folder),t.append("publicId",e.name),t.append("tags",e.tags.join(","));let l=await fetch("".concat("http://localhost:8080/api","/admin/images/upload"),{method:"POST",body:t}),r=await l.json();if(r.success)return{success:!0,name:e.name,url:r.data.secure_url,message:"Uploaded successfully"};throw Error(r.error||"Upload failed")}catch(s){return{success:!1,name:e.name,error:s.message}}},g=async()=>{let e=u[m];if(!e||0===e.length)return void a("No images selected for upload");i(!0),o([]),d({});let t=[],l=0,r=0;for(let s=0;s<e.length;s++){let a=e[s];d(e=>({...e,[a.name]:50}));try{let e=await h(a);e.success?(l++,d(e=>({...e,[a.name]:100}))):(r++,d(e=>({...e,[a.name]:0}))),t.push(e),o([...t]),await new Promise(e=>setTimeout(e,500))}catch(e){r++,d(e=>({...e,[a.name]:0})),t.push({success:!1,name:a.name,error:e.message}),o([...t])}}i(!1),l>0&&s(),r>0&&a("".concat(r," uploads failed out of ").concat(e.length))},p=Object.keys(u),b=u[m]||[];return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Bulk Image Uploader"}),(0,t.jsx)("p",{className:"text-blue-100",children:"Upload high-quality product images to your Cloudinary account with proper organization"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Category"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.map(e=>(0,t.jsx)("button",{onClick:()=>x(e),className:"p-4 rounded-lg border-2 transition-all ".concat(m===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-gray-50 text-gray-700 hover:border-blue-300"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl mb-2",children:["electronics"===e&&"\uD83D\uDCF1","fashion"===e&&"\uD83D\uDC55","home"===e&&"\uD83C\uDFE0","mobiles"===e&&"\uD83D\uDCDE"]}),(0,t.jsx)("div",{className:"font-medium capitalize",children:e}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[u[e].length," images"]})]})},e))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Images to Upload (",b.length,")"]}),(0,t.jsx)("button",{onClick:g,disabled:r||0===b.length,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"ri-loader-line animate-spin mr-2"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"ri-upload-cloud-line mr-2"}),"Start Upload"]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((e,s)=>{let a=c[e.name]||0,l=n.find(s=>s.name===e.name);return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"aspect-square bg-gray-100 relative",children:[(0,t.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"}),r&&a>0&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center mb-2",children:100===a?(0,t.jsx)("i",{className:"ri-check-line text-green-400 text-xl"}):(0,t.jsx)("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})}),(0,t.jsxs)("div",{className:"text-sm",children:[a,"%"]})]})}),l&&!r&&(0,t.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full flex items-center justify-center ".concat(l.success?"bg-green-500":"bg-red-500"),children:(0,t.jsx)("i",{className:"text-white text-sm ".concat(l.success?"ri-check-line":"ri-close-line")})})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate",title:e.name,children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.folder}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:e},s)),e.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.tags.length-3]})]}),l&&!l.success&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:l.error})]})]},s)})})]}),n.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload Results"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.filter(e=>e.success).length}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Successful"})]}),(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:n.filter(e=>!e.success).length}),(0,t.jsx)("div",{className:"text-sm text-red-700",children:"Failed"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.length}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Total"})]})]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border-l-4 mb-2 rounded ".concat(e.success?"bg-green-50 border-green-400":"bg-red-50 border-red-400"),children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"mr-3 ".concat(e.success?"ri-check-circle-line text-green-500":"ri-error-warning-line text-red-500")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.name}),e.success?(0,t.jsx)("div",{className:"text-xs text-green-600",children:"Uploaded successfully"}):(0,t.jsx)("div",{className:"text-xs text-red-600",children:e.error})]})]}),e.success&&e.url&&(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm",children:(0,t.jsx)("i",{className:"ri-external-link-line"})})]},s))})]})]})}function c(e){let{images:s,loading:a,onImageSelect:r,onImageDeleted:i,onImageUpdated:c}=e,[d,n]=(0,l.useState)([]),[o,m]=(0,l.useState)([]),x=e=>{n(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},u=async()=>{if(0===d.length)return void alert("No images selected");if(confirm("Are you sure you want to delete ".concat(d.length," image(s)?"))){m(d);try{let e="http://localhost:8080/api";if(1===d.length){let s=d[0].replace(/\//g,"_"),a=await fetch("".concat(e,"/admin/images/").concat(s),{method:"DELETE"}),t=await a.json();t.success?(i(),n([])):alert("Failed to delete image: ".concat(t.error))}else{let s=await fetch("".concat(e,"/admin/images/bulk"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({publicIds:d})}),a=await s.json();a.success?(i(),n([]),alert("Successfully deleted ".concat(a.data.deleted_count," images"))):alert("Failed to delete images: ".concat(a.error))}}catch(e){console.error("Delete error:",e),alert("Failed to delete images")}finally{m([])}}},h=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB"][s]},g=e=>new Date(e).toLocaleDateString();return a?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading images..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCF7"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Images Found"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"Upload some images or adjust your search filters."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 bg-gray-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>{d.length===s.length?n([]):n(s.map(e=>e.public_id))},className:"px-4 py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:d.length===s.length?"Deselect All":"Select All"}),d.length>0&&(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[d.length," selected"]})]}),d.length>0&&(0,t.jsx)("button",{onClick:u,disabled:o.length>0,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:o.length>0?"Deleting...":"Delete Selected (".concat(d.length,")")})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(e=>{var s;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow border-2 transition-all ".concat(d.includes(e.public_id)?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"," ").concat(o.includes(e.public_id)?"opacity-50":""),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.secure_url,alt:e.public_id,className:"w-full h-48 object-cover rounded-t-lg cursor-pointer",onClick:()=>r(e),loading:"lazy"}),(0,t.jsx)("div",{className:"absolute top-2 left-2",children:(0,t.jsx)("input",{type:"checkbox",checked:d.includes(e.public_id),onChange:()=>x(e.public_id),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),o.includes(e.public_id)&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-t-lg flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 text-sm truncate",title:e.public_id,children:e.public_id.split("/").pop()}),(0,t.jsxs)("div",{className:"mt-2 space-y-1 text-xs text-gray-500",children:[(0,t.jsxs)("p",{children:["\uD83D\uDCC1 ",(null==(s=e.folder)?void 0:s.replace("ritkart/",""))||"No folder"]}),(0,t.jsxs)("p",{children:["\uD83D\uDCD0 ",e.width," \xd7 ",e.height]}),(0,t.jsxs)("p",{children:["\uD83D\uDCBE ",h(e.bytes)]}),(0,t.jsxs)("p",{children:["\uD83D\uDCC5 ",g(e.created_at)]}),(0,t.jsxs)("p",{children:["\uD83C\uDFF7️ ",e.format.toUpperCase()]})]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},s)),e.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",e.tags.length-3]})]}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>r(e),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",children:"Edit"}),(0,t.jsx)("a",{href:e.secure_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",children:"View"})]})]})]},e.public_id)})}),s.length>=50&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Load More Images"})})]})}function d(e){var s;let{image:a,onImageUpdated:r,onClose:i}=e,[c,d]=(0,l.useState)((null==(s=a.tags)?void 0:s.join(", "))||""),[n,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),u=async()=>{o(!0);try{let e=a.public_id.replace(/\//g,"_"),s=await fetch("".concat("http://localhost:8080/api","/admin/images/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:c.split(",").map(e=>e.trim()).filter(e=>e.length>0)})}),t=await s.json();t.success?(r(),alert("Tags updated successfully!")):alert("Failed to update tags: ".concat(t.error))}catch(e){console.error("Update error:",e),alert("Failed to update tags")}finally{o(!1)}},h=async()=>{if(confirm("Are you sure you want to delete this image? This action cannot be undone.")){x(!0);try{let e=a.public_id.replace(/\//g,"_"),s=await fetch("".concat("http://localhost:8080/api","/admin/images/").concat(e),{method:"DELETE"}),t=await s.json();t.success?(r(),i(),alert("Image deleted successfully!")):alert("Failed to delete image: ".concat(t.error))}catch(e){console.error("Delete error:",e),alert("Failed to delete image")}finally{x(!1)}}},g=e=>{navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard!")})},p=[{label:"Thumbnail (300x300)",url:a.secure_url.replace("/upload/","/upload/w_300,h_300,c_thumb,g_auto/")},{label:"Large (800x800)",url:a.secure_url.replace("/upload/","/upload/w_800,h_800,c_limit/")},{label:"WebP Format",url:a.secure_url.replace("/upload/","/upload/f_webp,q_auto/")},{label:"Grayscale",url:a.secure_url.replace("/upload/","/upload/e_grayscale/")}];return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Image"}),(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"✕ Close"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg overflow-hidden",children:(0,t.jsx)("img",{src:a.secure_url,alt:a.public_id,className:"w-full h-auto max-h-96 object-contain"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Transformation Examples"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:p.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded p-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:e.label}),(0,t.jsx)("img",{src:e.url,alt:e.label,className:"w-full h-20 object-cover rounded",loading:"lazy"}),(0,t.jsx)("button",{onClick:()=>g(e.url),className:"mt-1 text-xs text-blue-600 hover:text-blue-800",children:"Copy URL"})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Image Information"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Public ID:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"font-mono text-right",children:a.public_id}),(0,t.jsx)("button",{onClick:()=>g(a.public_id),className:"ml-2 text-blue-600 hover:text-blue-800",children:"\uD83D\uDCCB"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Folder:"}),(0,t.jsx)("span",{children:a.folder||"None"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Dimensions:"}),(0,t.jsxs)("span",{children:[a.width," \xd7 ",a.height]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Format:"}),(0,t.jsx)("span",{className:"uppercase",children:a.format})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"File Size:"}),(0,t.jsx)("span",{children:(e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB"][s]})(a.bytes)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,t.jsx)("span",{children:new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"URL:"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("a",{href:a.secure_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 mr-2",children:"\uD83D\uDD17 View"}),(0,t.jsx)("button",{onClick:()=>g(a.secure_url),className:"text-blue-600 hover:text-blue-800",children:"\uD83D\uDCCB"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Tags"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Enter tags separated by commas (e.g., product, electronics, featured)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("button",{onClick:u,disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:n?"Updating...":"Update Tags"})]})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"URL Generator"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transformation Parameters"}),(0,t.jsx)("input",{type:"text",placeholder:"w_300,h_300,c_thumb,g_auto",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",onChange:e=>{let s=a.secure_url.replace("/upload/","/upload/".concat(e.target.value,"/")),t=document.getElementById("transformation-preview");t&&e.target.value&&(t.src=s)}}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter Cloudinary transformation parameters"})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded p-2",children:(0,t.jsx)("img",{id:"transformation-preview",src:a.secure_url,alt:"Preview",className:"w-32 h-32 object-cover rounded"})})]})]}),(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-red-900 mb-3",children:"⚠️ Danger Zone"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mb-3",children:"This action cannot be undone. The image will be permanently deleted from Cloudinary."}),(0,t.jsx)("button",{onClick:h,disabled:m,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Deleting...":"Delete Image"})]})]})]})]})}function n(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{d()},[]);let d=async()=>{r(!0),c(null);try{let e=await fetch("".concat("http://localhost:8080/api","/admin/images/analytics/storage"));if(e.ok){let a=await e.json();a.success?s(a.data):c(a.error||"Failed to load analytics")}else c("HTTP ".concat(e.status,": ").concat(e.statusText))}catch(e){console.error("Error loading analytics:",e),c(e instanceof Error?e.message:"Unknown error occurred")}finally{r(!1)}},n=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]},o=e=>new Intl.NumberFormat().format(e),m=(e,s)=>0===s?0:Math.round(e/s*100),x=e=>e>=90?"bg-red-500":e>=75?"bg-yellow-500":e>=50?"bg-blue-500":"bg-green-500";if(a)return(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]});if(i)return(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("span",{className:"text-6xl",children:"⚠️"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Error Loading Analytics"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:i}),(0,t.jsx)("button",{onClick:d,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})]});if(!e)return(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("span",{className:"text-6xl",children:"\uD83D\uDCCA"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Analytics Data"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"Unable to load storage analytics."})]});let u=m(e.storage.used,e.storage.limit),h=m(e.bandwidth.used,e.bandwidth.limit),g=m(e.objects.used,e.objects.limit);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-blue-900",children:["Cloudinary Plan: ",e.plan||"Unknown"]}),(0,t.jsxs)("p",{className:"text-blue-700",children:["Last updated: ",new Date(e.last_updated).toLocaleDateString()]})]}),(0,t.jsx)("div",{className:"text-2xl",children:"☁️"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Storage Usage"}),(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCBE"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Used:"}),(0,t.jsx)("span",{className:"font-medium",children:n(e.storage.used)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Limit:"}),(0,t.jsx)("span",{className:"font-medium",children:n(e.storage.limit)})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"h-3 rounded-full ".concat(x(u)),style:{width:"".concat(Math.min(u,100),"%")}})}),(0,t.jsxs)("div",{className:"text-center text-sm font-medium text-gray-700",children:[u,"% used"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Bandwidth Usage"}),(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC8"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Used:"}),(0,t.jsx)("span",{className:"font-medium",children:n(e.bandwidth.used)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Limit:"}),(0,t.jsx)("span",{className:"font-medium",children:n(e.bandwidth.limit)})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"h-3 rounded-full ".concat(x(h)),style:{width:"".concat(Math.min(h,100),"%")}})}),(0,t.jsxs)("div",{className:"text-center text-sm font-medium text-gray-700",children:[h,"% used"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Objects"}),(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC1"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Used:"}),(0,t.jsx)("span",{className:"font-medium",children:o(e.objects.used)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Limit:"}),(0,t.jsx)("span",{className:"font-medium",children:o(e.objects.limit)})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"h-3 rounded-full ".concat(x(g)),style:{width:"".concat(Math.min(g,100),"%")}})}),(0,t.jsxs)("div",{className:"text-center text-sm font-medium text-gray-700",children:[g,"% used"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Resource Statistics"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Total Resources:"}),(0,t.jsx)("span",{className:"font-medium",children:o(e.resources)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Derived Resources:"}),(0,t.jsx)("span",{className:"font-medium",children:o(e.derived_resources)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"API Requests:"}),(0,t.jsx)("span",{className:"font-medium",children:o(e.requests)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Usage Recommendations"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[u>80&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-red-600",children:[(0,t.jsx)("span",{children:"⚠️"}),(0,t.jsx)("span",{children:"Storage usage is high. Consider cleaning up unused images."})]}),h>80&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-yellow-600",children:[(0,t.jsx)("span",{children:"⚠️"}),(0,t.jsx)("span",{children:"Bandwidth usage is high. Optimize image delivery."})]}),u<50&&h<50&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 text-green-600",children:[(0,t.jsx)("span",{children:"✅"}),(0,t.jsx)("span",{children:"Usage levels are healthy."})]})]})]})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"\uD83D\uDD04 Refresh Analytics"})})]})}function o(){let[e,s]=(0,l.useState)("bulk-upload"),[a,o]=(0,l.useState)([]),[m,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),[g,p]=(0,l.useState)(""),[b,f]=(0,l.useState)(""),[j,N]=(0,l.useState)(0),y=["ritkart/electronics","ritkart/mobiles","ritkart/fashion","ritkart/home","ritkart/appliances","ritkart/books","ritkart/categories"];(0,l.useEffect)(()=>{("gallery"===e||"editor"===e)&&v()},[e,b,j]);let v=async()=>{h(!0);try{let e=new URLSearchParams;b&&e.append("folder",b),e.append("pageSize","50");let s=await fetch("".concat("http://localhost:8080/api","/admin/images/list?").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){let e=await s.json();e.success?o(e.data.images||[]):console.error("Failed to load images:",e.error)}else console.error("Failed to load images:",s.statusText)}catch(e){console.error("Error loading images:",e)}finally{h(!1)}},w=()=>{N(e=>e+1)},D=a.filter(e=>!g||e.public_id.toLowerCase().includes(g.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(g.toLowerCase())));return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"RitKART Admin Panel"}),(0,t.jsx)("span",{className:"ml-3 px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:"Image Management"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",disabled:u,children:["\uD83D\uDD04"," Refresh"]})})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"bulk-upload",label:"Bulk Upload",icon:"⚡"},{id:"upload",label:"Upload Images",icon:"\uD83D\uDCE4"},{id:"gallery",label:"Image Gallery",icon:"\uD83D\uDDBC️"},{id:"editor",label:"Image Editor",icon:"✏️"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCCA"}].map(a=>(0,t.jsxs)("button",{onClick:()=>s(a.id),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(e===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,t.jsx)("span",{className:"mr-2",children:a.icon}),a.label]},a.id))})})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:["bulk-upload"===e&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Bulk Upload Product Images"}),(0,t.jsx)(i,{onUploadComplete:w,onUploadError:e=>console.error("Bulk upload error:",e)})]}),"upload"===e&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Upload Images"}),(0,t.jsx)(r,{onUploadSuccess:w,folders:y})]}),"gallery"===e&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Image Gallery"}),(0,t.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search images...",value:g,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDD0D"})})]}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All Folders"}),y.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("ritkart/","")},e))]})]})]}),(0,t.jsx)(c,{images:D,loading:u,onImageSelect:x,onImageDeleted:w,onImageUpdated:w})]}),"editor"===e&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Image Editor"}),m?(0,t.jsx)(d,{image:m,onImageUpdated:w,onClose:()=>x(null)}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("span",{className:"text-6xl",children:"\uD83D\uDDBC️"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Image Selected"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"Select an image from the gallery to edit its properties and metadata."}),(0,t.jsx)("button",{onClick:()=>s("gallery"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go to Gallery"})]})]}),"analytics"===e&&(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Storage Analytics"}),(0,t.jsx)(n,{})]})]}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC1"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Images"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:a.length})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC2"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Folders"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:y.length})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCBE"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Size"}),(0,t.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[(a.reduce((e,s)=>e+(s.bytes||0),0)/1024/1024).toFixed(1),"MB"]})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFF7️"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Tagged Images"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:a.filter(e=>e.tags&&e.tags.length>0).length})]})]})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(2470)),_N_E=e.O()}]);