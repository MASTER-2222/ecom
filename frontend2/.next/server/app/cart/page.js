(()=>{var a={};a.id=5,a.ids=[5],a.modules={3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:a=>{"use strict";a.exports=require("punycode")},12412:a=>{"use strict";a.exports=require("assert")},13525:(a,b,c)=>{Promise.resolve().then(c.bind(c,35914))},16396:(a,b,c)=>{"use strict";c.d(b,{N:()=>d});let d=(0,c(60463).UU)("https://ipafdwwlinovyuvkqitg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwYWZkd3dsaW5vdnl1dmtxaXRnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMTQ4OTEsImV4cCI6MjA2OTY5MDg5MX0.1CiHbIrNE7Z2EXOooZlsOEOPJtFrGd6szOPDSJ1gVaQ")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},27093:(a,b,c)=>{Promise.resolve().then(c.bind(c,99724))},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},35914:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/frontend2/app/cart/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/frontend2/app/cart/page.tsx","default")},39727:()=>{},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},41079:(a,b,c)=>{"use strict";c.d(b,{BH:()=>h,FK:()=>e,Jr:()=>l,Qg:()=>g,U4:()=>f,dP:()=>k,hh:()=>i,ky:()=>j,oE:()=>m});var d=c(16396);let e=async()=>{try{let{data:{user:a}}=await d.N.auth.getUser();if(!a)throw Error("User not authenticated");let{data:b,error:c}=await d.N.from("orders").select(`
        *,
        order_items (*)
      `).eq("user_id",a.id).order("created_at",{ascending:!1});if(c)throw c;return b}catch(a){throw console.error("Error fetching orders:",a),a}},f=async a=>{try{let{data:{user:b}}=await d.N.auth.getUser();if(!b)throw Error("User not authenticated");let{error:c}=await d.N.from("wishlist").upsert({user_id:b.id,product_id:a.id,product_name:a.name,product_image:a.image,price:a.price,category:a.category});if(c)throw c}catch(a){throw console.error("Error adding to wishlist:",a),a}},g=async a=>{try{let{data:{user:b}}=await d.N.auth.getUser();if(!b)throw Error("User not authenticated");let{error:c}=await d.N.from("wishlist").delete().eq("user_id",b.id).eq("product_id",a);if(c)throw c}catch(a){throw console.error("Error removing from wishlist:",a),a}},h=async()=>{try{let{data:{user:a}}=await d.N.auth.getUser();if(!a)throw Error("User not authenticated");let{data:b,error:c}=await d.N.from("wishlist").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(c)throw c;return b}catch(a){throw console.error("Error fetching wishlist:",a),a}},i=async a=>{try{let{data:{user:b}}=await d.N.auth.getUser();if(!b)throw Error("User not authenticated");let{error:c}=await d.N.from("saved_items").upsert({user_id:b.id,product_id:a.id,product_name:a.name,product_image:a.image,price:a.price,category:a.category});if(c)throw c}catch(a){throw console.error("Error saving for later:",a),a}},j=async()=>{try{let{data:{user:a}}=await d.N.auth.getUser();if(!a)throw Error("User not authenticated");let{data:b,error:c}=await d.N.from("saved_items").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(c)throw c;return b}catch(a){throw console.error("Error fetching saved items:",a),a}},k=async a=>{try{let{data:{user:b}}=await d.N.auth.getUser();if(!b)throw Error("User not authenticated");let{error:c}=await d.N.from("saved_items").delete().eq("user_id",b.id).eq("product_id",a);if(c)throw c}catch(a){throw console.error("Error removing saved item:",a),a}},l=async(a,b,c)=>{try{let{data:{user:e}}=await d.N.auth.getUser();if(!e)throw Error("User not authenticated");let{error:f}=await d.N.from("product_reviews").upsert({user_id:e.id,product_id:a,rating:b,comment:c,verified_purchase:!1});if(f)throw f}catch(a){throw console.error("Error adding review:",a),a}},m=async()=>{try{let{data:{user:a}}=await d.N.auth.getUser();if(!a)throw Error("User not authenticated");let{data:b,error:c}=await d.N.from("user_preferences").select("*").eq("user_id",a.id).single();if(c&&"PGRST116"!==c.code)throw c;return b}catch(a){throw console.error("Error fetching preferences:",a),a}}},47990:()=>{},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:a=>{"use strict";a.exports=require("zlib")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},80487:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>g.a,__next_app__:()=>l,pages:()=>k,routeModule:()=>m,tree:()=>j});var d=c(65239),e=c(48088),f=c(88665),g=c.n(f),h=c(30893),i={};for(let a in h)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(a)&&(i[a]=()=>h[a]);c.d(b,i);let j={children:["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,35914)),"/app/frontend2/app/cart/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,58014)),"/app/frontend2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(c.bind(c,82366)),"/app/frontend2/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,k=["/app/frontend2/app/cart/page.tsx"],l={require:c,loadChunk:()=>Promise.resolve()},m=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:j},distDir:".next",projectDir:""})},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")},99724:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j});var d=c(60687),e=c(43210),f=c(85814),g=c.n(f),h=c(41079),i=c(83425);function j(){let[a,b]=(0,e.useState)([{id:"1",name:"Samsung Galaxy S24 Ultra 5G (Titanium Black, 256GB)",price:124999,originalPrice:149999,image:i.eH["samsung-s24-ultra"],quantity:1,brand:"Samsung",category:"Electronics"},{id:"2",name:"Sony WH-1000XM5 Wireless Noise Cancelling Headphones",price:29990,originalPrice:34990,image:i.eH["sony-wh1000xm5"],quantity:1,brand:"Sony",category:"Electronics"},{id:"4",name:"Levi's Men's 511 Slim Fit Jeans - Dark Blue",price:2999,originalPrice:4499,image:i.eH["levis-jeans-men"],quantity:1,brand:"Levi's",category:"Fashion"},{id:"8",name:"LG 260L 3-Star Smart Inverter Frost-Free Double Door Refrigerator",price:28999,originalPrice:34999,image:i.eH["lg-double-door-fridge"],quantity:1,brand:"LG",category:"Appliances"}]),c=(a,c)=>{if(0===c)return void f(a);b(b=>b.map(b=>b.id===a?{...b,quantity:c}:b))},f=a=>{b(b=>b.filter(b=>b.id!==a))},j=async a=>{try{await (0,h.hh)({id:a.id,name:a.name,image:a.image,price:a.price,category:a.category}),b(b=>b.filter(b=>b.id!==a.id)),alert(`${a.name} has been saved for later!`)}catch(a){console.error("Error saving for later:",a),alert("Failed to save item for later. Please try again.")}},k=a.reduce((a,b)=>a+b.price*b.quantity,0),l=a.reduce((a,b)=>a+(b.originalPrice-b.price)*b.quantity,0),m=k>5e4?0:99,n=k+m;return 0===a.length?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,d.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12",children:[(0,d.jsx)("i",{className:"ri-shopping-cart-line text-6xl text-gray-300 mb-6 w-24 h-24 flex items-center justify-center mx-auto"}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your Cart is Empty"}),(0,d.jsx)("p",{className:"text-gray-600 mb-8",children:"Add some items to your cart to get started!"}),(0,d.jsx)(g(),{href:"/",className:"inline-block bg-[#2874f0] text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-600 transition-colors whitespace-nowrap cursor-pointer",children:"Continue Shopping"})]})})}):(0,d.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-sm mb-6 text-gray-600",children:[(0,d.jsx)(g(),{href:"/",className:"hover:text-[#2874f0] cursor-pointer",children:"Home"}),(0,d.jsx)("i",{className:"ri-arrow-right-line w-4 h-4 flex items-center justify-center"}),(0,d.jsx)("span",{className:"text-gray-800",children:"Shopping Cart"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,d.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Shopping Cart (",a.length," items)"]})}),(0,d.jsx)("div",{className:"divide-y divide-gray-200",children:a.map(a=>(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,d.jsx)(g(),{href:`/product/${a.id}`,children:(0,d.jsx)("img",{src:a.image,alt:a.name,className:"w-24 h-24 object-cover rounded-md cursor-pointer object-top"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[a.brand," • ",a.category]}),(0,d.jsx)(g(),{href:`/product/${a.id}`,children:(0,d.jsx)("h3",{className:"font-medium text-gray-800 hover:text-[#2874f0] cursor-pointer mb-2",children:a.name})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,d.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["₹",a.price.toLocaleString()]}),(0,d.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["₹",a.originalPrice.toLocaleString()]}),(0,d.jsxs)("span",{className:"text-green-600 text-sm font-medium",children:[Math.round((1-a.price/a.originalPrice)*100),"% off"]})]})]}),(0,d.jsx)("button",{onClick:()=>f(a.id),className:"text-gray-400 hover:text-red-500 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-close-line text-xl w-6 h-6 flex items-center justify-center"})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,d.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-md",children:[(0,d.jsx)("button",{onClick:()=>c(a.id,a.quantity-1),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-subtract-line w-4 h-4 flex items-center justify-center"})}),(0,d.jsx)("span",{className:"px-4 py-2 border-x border-gray-300 min-w-[60px] text-center",children:a.quantity}),(0,d.jsx)("button",{onClick:()=>c(a.id,a.quantity+1),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:(0,d.jsx)("i",{className:"ri-add-line w-4 h-4 flex items-center justify-center"})})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("div",{className:"font-bold text-gray-900",children:["₹",(a.price*a.quantity).toLocaleString()]}),a.quantity>1&&(0,d.jsxs)("div",{className:"text-sm text-gray-500",children:["₹",a.price.toLocaleString()," each"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4 mt-4 text-sm",children:[(0,d.jsxs)("button",{onClick:()=>j(a),className:"text-[#2874f0] hover:underline cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-bookmark-line mr-1 w-4 h-4 flex items-center justify-center inline"}),"Save for Later"]}),(0,d.jsxs)("button",{className:"text-gray-600 hover:text-gray-800 cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-share-line mr-1 w-4 h-4 flex items-center justify-center inline"}),"Share"]})]})]})]})},a.id))}),(0,d.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:(0,d.jsxs)(g(),{href:"/",className:"text-[#2874f0] hover:underline text-sm cursor-pointer",children:[(0,d.jsx)("i",{className:"ri-arrow-left-line mr-1 w-4 h-4 flex items-center justify-center inline"}),"Continue Shopping"]})})]})}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:"Order Summary"}),(0,d.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",a.length," items)"]}),(0,d.jsxs)("span",{className:"font-medium",children:["₹",k.toLocaleString()]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,d.jsx)("span",{className:"font-medium text-green-600",children:0===m?"FREE":`₹${m}`})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"You Save"}),(0,d.jsxs)("span",{className:"font-medium text-green-600",children:["₹",l.toLocaleString()]})]}),0===m&&(0,d.jsxs)("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:[(0,d.jsx)("i",{className:"ri-check-line mr-1 w-4 h-4 flex items-center justify-center inline"}),"You got free shipping!"]}),m>0&&(0,d.jsxs)("div",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded",children:["Add ₹",(5e4-k).toLocaleString()," more for free shipping"]})]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:["₹",n.toLocaleString()]})]}),(0,d.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Inclusive of all taxes"})]}),(0,d.jsx)("button",{onClick:()=>{alert("Redirecting to secure checkout...")},className:"w-full bg-[#2874f0] text-white py-3 rounded-md font-semibold hover:bg-blue-600 transition-colors mb-4 whitespace-nowrap cursor-pointer",children:"Proceed to Checkout"}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Secure Checkout"}),(0,d.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,d.jsx)("i",{className:"ri-secure-payment-line text-gray-400 w-5 h-5 flex items-center justify-center"}),(0,d.jsx)("i",{className:"ri-shield-check-line text-gray-400 w-5 h-5 flex items-center justify-center"}),(0,d.jsx)("i",{className:"ri-truck-line text-gray-400 w-5 h-5 flex items-center justify-center"})]})]}),(0,d.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,d.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"Why Shop with RitKart?"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("i",{className:"ri-truck-line text-green-500 mr-2 w-4 h-4 flex items-center justify-center"}),(0,d.jsx)("span",{children:"Free delivery on orders over ₹50,000"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("i",{className:"ri-arrow-left-right-line text-green-500 mr-2 w-4 h-4 flex items-center justify-center"}),(0,d.jsx)("span",{children:"7-day easy returns"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("i",{className:"ri-secure-payment-line text-green-500 mr-2 w-4 h-4 flex items-center justify-center"}),(0,d.jsx)("span",{children:"100% secure payments"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("i",{className:"ri-customer-service-line text-green-500 mr-2 w-4 h-4 flex items-center justify-center"}),(0,d.jsx)("span",{children:"24/7 customer support"})]})]})]})]})})]}),(0,d.jsx)("div",{className:"mt-12",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Recently Viewed"}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{id:"1",name:"Samsung Galaxy S24",price:"₹1,24,999",category:"Electronics"},{id:"5",name:"Nike Air Force 1",price:"₹7,999",category:"Fashion"},{id:"6",name:"IKEA HEMNES Bed",price:"₹24,999",category:"Home"},{id:"9",name:"Samsung Washing Machine",price:"₹32,999",category:"Appliances"},{id:"10",name:"Psychology of Money",price:"₹299",category:"Books"},{id:"3",name:"MacBook Air M2",price:"₹1,14,900",category:"Electronics"}].map(a=>(0,d.jsx)(g(),{href:`/product/${a.id}`,children:(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer",children:[(0,d.jsx)("img",{src:i.eH["macbook-air-m2"]||i.eH["samsung-s24-ultra"],alt:a.name,className:"w-full h-20 object-cover rounded mb-2 object-top"}),(0,d.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:a.name}),(0,d.jsx)("div",{className:"text-sm font-bold text-gray-900 mt-1",children:a.price})]})},a.id))})]})})]})})}}};var b=require("../../webpack-runtime.js");b.C(a);var c=a=>b(b.s=a),d=b.X(0,[435,814,463,477],()=>c(80487));module.exports=d})();