import{j as e,H as Ce,q as Ue,u as He,c as we,J as Ke,P as ee,b as pe,K as Ze,d as xe,a as We,e as Je,f as Qe}from"./ui-vendor-DCecdomg.js";import{u as Se,r as x,L,e as ke,b as Xe}from"./react-vendor-ChmzT23k.js";import{c as se,a as es,u as Re,W as ss,B as w,Y as B,k as P,l as A,v as he,o as Ne,M as as,I as S,z as rs,i as ts,Z as is,_,$,a0 as W,t as T,D as X,R as ns,J as Pe,V,a1 as ls,a2 as cs,a3 as ds,a4 as ie,a5 as os,a6 as me,a7 as g,a8 as N,a9 as v,aa as f,ab as C,ac as ve,ad as ne,ae as fe,af as xs,e as hs,ag as y,ah as ms,ai as us,aj as ps}from"./auth-pages-aJgSGeUe.js";import{u as Ae,B as ue,S as le,a as ce,b as de,c as oe,d as G}from"./product-pages-DVlVxvpf.js";const js=es("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function gs({className:l,variant:t,...i}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:se(js({variant:t}),l),...i})}function Ns({className:l,...t}){return e.jsx("div",{"data-slot":"alert-description",className:se("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",l),...t})}const vs=()=>{const l=Se(),{isAuthenticated:t}=Re(),{items:i,totalItems:h,totalPrice:c,updateQuantity:n,removeItem:p,clearCart:F,loading:I}=Ae(),[b,E]=x.useState(""),[m,D]=x.useState(null),[o,r]=x.useState(0),[j,k]=x.useState(new Set),[U,H]=x.useState(!1);x.useEffect(()=>{k(new Set(i.map(a=>a.id)))},[i]);const R=()=>i.filter(a=>j.has(a.id)).reduce((a,d)=>a+d.price*d.quantity,0),M=a=>a*.08,Y=()=>R()>=50?0:9.99,z=()=>{const a=R(),d=M(a),O=Y();return a+d+O-o},K=async(a,d)=>{if(!(d<1))try{await n(a,d)}catch{V.error("Failed to update quantity")}},J=async a=>{try{await p(a),k(d=>{const O=new Set(d);return O.delete(a),O}),V.success("Item removed from cart")}catch{V.error("Failed to remove item")}},Q=(a,d)=>{k(O=>{const te=new Set(O);return d?te.add(a):te.delete(a),te})},re=a=>{k(a?new Set(i.map(d=>d.id)):new Set)},Z=async()=>{if(b.trim()){H(!0);try{await new Promise(O=>setTimeout(O,1e3));const d={SAVE10:10,WELCOME20:20,FREESHIP:0}[b.toUpperCase()];d!==void 0?(D(b.toUpperCase()),r(d),V.success(`Coupon applied! You saved $${d}`)):V.error("Invalid coupon code")}catch{V.error("Failed to apply coupon")}finally{H(!1)}}},s=()=>{D(null),r(0),E(""),V.success("Coupon removed")},q=()=>{if(!t){l("/login",{state:{from:{pathname:"/checkout"}}});return}if(j.size===0){V.error("Please select items to checkout");return}const a=i.filter(d=>j.has(d.id));l("/checkout",{state:{items:a,subtotal:R(),tax:M(R()),shipping:Y(),discount:o,total:z()}})};if(I)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((a,d)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})]},d))})});if(i.length===0)return e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx(ss,{className:"w-24 h-24 mx-auto text-gray-300"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added anything to your cart yet. Start shopping to find great deals!"}),e.jsx(L,{to:"/products",children:e.jsxs(w,{className:"amazon-button",children:["Start Shopping",e.jsx(B,{className:"w-4 h-4 ml-2"})]})})]})});const u=R(),Le=M(u),ge=Y(),Ye=z(),Ge=j.size===i.length,Be=j.size>0&&j.size<i.length;return e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Shopping Cart"}),e.jsxs("p",{className:"text-gray-600",children:[h," item",h!==1?"s":""," in your cart"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(P,{children:e.jsx(A,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{checked:Ge,indeterminate:Be,onCheckedChange:re}),e.jsxs("span",{className:"font-medium",children:["Select All (",i.length," item",i.length!==1?"s":"",")"]})]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>F(),className:"text-red-600 hover:text-red-700",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Clear Cart"]})]})})}),i.map(a=>e.jsx(P,{className:"overflow-hidden",children:e.jsx(A,{className:"p-0",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"p-4",children:e.jsx(he,{checked:j.has(a.id),onCheckedChange:d=>Q(a.id,d)})}),e.jsxs("div",{className:"flex flex-1 p-4",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0 mr-4",children:e.jsx("img",{src:a.product.thumbnail||"/api/placeholder/100/100",alt:a.product.title,className:"w-full h-full object-cover rounded-lg"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx(L,{to:`/product/${a.product.id}`,children:e.jsx("h3",{className:"font-medium text-gray-900 hover:text-orange-600 transition-colors line-clamp-2",children:a.product.title})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Brand: ",a.product.brand]}),a.product.originalPrice&&a.product.originalPrice>a.product.price&&e.jsxs(ue,{variant:"destructive",className:"mt-1",children:[Math.round((a.product.originalPrice-a.product.price)/a.product.originalPrice*100),"% off"]})]}),e.jsx(w,{variant:"ghost",size:"sm",onClick:()=>J(a.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ne,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{onClick:()=>K(a.id,a.quantity-1),disabled:a.quantity<=1,className:"p-2 hover:bg-gray-100 transition-colors disabled:opacity-50",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx(S,{type:"number",value:a.quantity,onChange:d=>{const O=parseInt(d.target.value)||1;K(a.id,O)},className:"w-16 text-center border-0 focus:ring-0",min:1,max:a.product.stock}),e.jsx("button",{onClick:()=>K(a.id,a.quantity+1),disabled:a.quantity>=a.product.stock,className:"p-2 hover:bg-gray-100 transition-colors disabled:opacity-50",children:e.jsx(rs,{className:"w-4 h-4"})})]}),e.jsxs(w,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Save for later"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",(a.price*a.quantity).toFixed(2)]}),a.product.originalPrice&&a.product.originalPrice>a.product.price&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",(a.product.originalPrice*a.quantity).toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",a.price.toFixed(2)," each"]})]})]}),a.product.stock<10&&e.jsxs(gs,{className:"mt-3",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsxs(Ns,{children:["Only ",a.product.stock," left in stock - order soon!"]})]})]})]})]})})},a.id)),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{className:"text-lg",children:"Coupon Code"})}),e.jsxs(A,{children:[m?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"font-medium text-green-800",children:['Coupon "',m,'" applied']}),e.jsxs(ue,{variant:"secondary",children:["-$",o]})]}),e.jsx(w,{variant:"ghost",size:"sm",onClick:s,className:"text-red-600 hover:text-red-700",children:"Remove"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{placeholder:"Enter coupon code",value:b,onChange:a=>E(a.target.value),onKeyPress:a=>a.key==="Enter"&&Z()}),e.jsx(w,{onClick:Z,disabled:U||!b.trim(),variant:"outline",children:U?"Applying...":"Apply"})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Try: SAVE10, WELCOME20, or FREESHIP"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{className:"sticky top-4",children:[e.jsx(_,{children:e.jsx($,{className:"text-lg",children:"Order Summary"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Subtotal (",j.size," items)"]}),e.jsxs("span",{children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:ge===0?"FREE":`$${ge.toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",Le.toFixed(2)]})]}),o>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Coupon Discount"}),e.jsxs("span",{children:["-$",o.toFixed(2)]})]}),e.jsx(T,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",Ye.toFixed(2)]})]}),e.jsxs(w,{onClick:q,disabled:j.size===0,className:"w-full h-12 amazon-button text-lg",children:["Proceed to Checkout (",j.size," items)",e.jsx(B,{className:"w-5 h-5 ml-2"})]}),!t&&e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[e.jsx(L,{to:"/login",className:"text-blue-600 hover:underline",children:"Sign in"})," ","for a better experience"]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"FREE shipping on orders over $50"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(ns,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"30-day return policy"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Secure checkout"})]})]})]})]}),e.jsx(P,{children:e.jsxs(A,{className:"p-6 text-center",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Need something else?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Continue shopping to find more great deals"}),e.jsx(L,{to:"/products",children:e.jsx(w,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]})})]})]})]})})},qs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"}));var je="Radio",[fs,Fe]=we(je),[ys,bs]=fs(je),Ie=x.forwardRef((l,t)=>{const{__scopeRadio:i,name:h,checked:c=!1,required:n,disabled:p,value:F="on",onCheck:I,form:b,...E}=l,[m,D]=x.useState(null),o=pe(t,k=>D(k)),r=x.useRef(!1),j=m?b||!!m.closest("form"):!0;return e.jsxs(ys,{scope:i,checked:c,disabled:p,children:[e.jsx(ee.button,{type:"button",role:"radio","aria-checked":c,"data-state":Ve(c),"data-disabled":p?"":void 0,disabled:p,value:F,...E,ref:o,onClick:xe(l.onClick,k=>{c||I?.(),j&&(r.current=k.isPropagationStopped(),r.current||k.stopPropagation())})}),j&&e.jsx(Oe,{control:m,bubbles:!r.current,name:h,value:F,checked:c,required:n,disabled:p,form:b,style:{transform:"translateX(-100%)"}})]})});Ie.displayName=je;var Ee="RadioIndicator",De=x.forwardRef((l,t)=>{const{__scopeRadio:i,forceMount:h,...c}=l,n=bs(Ee,i);return e.jsx(We,{present:h||n.checked,children:e.jsx(ee.span,{"data-state":Ve(n.checked),"data-disabled":n.disabled?"":void 0,...c,ref:t})})});De.displayName=Ee;var Cs="RadioBubbleInput",Oe=x.forwardRef(({__scopeRadio:l,control:t,checked:i,bubbles:h=!0,...c},n)=>{const p=x.useRef(null),F=pe(p,n),I=Je(i),b=Qe(t);return x.useEffect(()=>{const E=p.current;if(!E)return;const m=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(m,"checked").set;if(I!==i&&o){const r=new Event("click",{bubbles:h});o.call(E,i),E.dispatchEvent(r)}},[I,i,h]),e.jsx(ee.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:F,style:{...c.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Oe.displayName=Cs;function Ve(l){return l?"checked":"unchecked"}var ws=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ae="RadioGroup",[Ss,Ms]=we(ae,[Ce,Fe]),_e=Ce(),$e=Fe(),[ks,Rs]=Ss(ae),ze=x.forwardRef((l,t)=>{const{__scopeRadioGroup:i,name:h,defaultValue:c,value:n,required:p=!1,disabled:F=!1,orientation:I,dir:b,loop:E=!0,onValueChange:m,...D}=l,o=_e(i),r=Ue(b),[j,k]=He({prop:n,defaultProp:c??null,onChange:m,caller:ae});return e.jsx(ks,{scope:i,name:h,required:p,disabled:F,value:j,onValueChange:k,children:e.jsx(Ke,{asChild:!0,...o,orientation:I,dir:r,loop:E,children:e.jsx(ee.div,{role:"radiogroup","aria-required":p,"aria-orientation":I,"data-disabled":F?"":void 0,dir:r,...D,ref:t})})})});ze.displayName=ae;var qe="RadioGroupItem",Me=x.forwardRef((l,t)=>{const{__scopeRadioGroup:i,disabled:h,...c}=l,n=Rs(qe,i),p=n.disabled||h,F=_e(i),I=$e(i),b=x.useRef(null),E=pe(t,b),m=n.value===c.value,D=x.useRef(!1);return x.useEffect(()=>{const o=j=>{ws.includes(j.key)&&(D.current=!0)},r=()=>D.current=!1;return document.addEventListener("keydown",o),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",r)}},[]),e.jsx(Ze,{asChild:!0,...F,focusable:!p,active:m,children:e.jsx(Ie,{disabled:p,required:n.required,checked:m,...I,...c,name:n.name,ref:E,onCheck:()=>n.onValueChange(c.value),onKeyDown:xe(o=>{o.key==="Enter"&&o.preventDefault()}),onFocus:xe(c.onFocus,()=>{D.current&&b.current?.click()})})})});Me.displayName=qe;var Ps="RadioGroupIndicator",Te=x.forwardRef((l,t)=>{const{__scopeRadioGroup:i,...h}=l,c=$e(i);return e.jsx(De,{...c,...h,ref:t})});Te.displayName=Ps;var As=ze,Fs=Me,Is=Te;function ye({className:l,...t}){return e.jsx(As,{"data-slot":"radio-group",className:se("grid gap-3",l),...t})}function be({className:l,...t}){return e.jsx(Fs,{"data-slot":"radio-group-item",className:se("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",l),...t,children:e.jsx(Is,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(ls,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Es=xs({firstName:y().min(2,"First name is required"),lastName:y().min(2,"Last name is required"),email:y().email("Valid email is required"),phone:y().min(10,"Valid phone number is required"),address:y().min(5,"Address is required"),city:y().min(2,"City is required"),state:y().min(2,"State is required"),zipCode:y().min(5,"Valid zip code is required"),country:y().min(2,"Country is required"),cardNumber:y().min(16,"Valid card number is required"),expiryMonth:y().min(2,"Month is required"),expiryYear:y().min(4,"Year is required"),cvv:y().min(3,"CVV is required"),cardName:y().min(2,"Cardholder name is required"),billingAddressSame:ms(),billingAddress:y().optional(),billingCity:y().optional(),billingState:y().optional(),billingZipCode:y().optional(),billingCountry:y().optional()}),Ds=()=>{const l=ke(),t=Se(),{user:i,isAuthenticated:h}=Re(),{clearCart:c}=Ae(),[n,p]=x.useState(1),[F,I]=x.useState(!1),[b,E]=x.useState("card"),[m,D]=x.useState("standard"),o=l.state;x.useEffect(()=>{(!o||!o.items||o.items.length===0)&&(t("/cart"),V.error("No items in checkout. Please add items to cart first.")),h||t("/login",{state:{from:{pathname:"/checkout"}}})},[o,h,t]);const r=cs({resolver:ds(Es),defaultValues:{firstName:i?.firstName||"",lastName:i?.lastName||"",email:i?.email||"",phone:i?.phoneNumber||"",address:"",city:"",state:"",zipCode:"",country:"United States",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardName:"",billingAddressSame:!0,billingAddress:"",billingCity:"",billingState:"",billingZipCode:"",billingCountry:"United States"}}),j=r.watch("billingAddressSame");if(!o)return null;const{items:k,subtotal:U,tax:H,shipping:R,discount:M,total:Y}=o,z=[{id:"standard",name:"Standard Shipping",description:"5-7 business days",price:R,icon:e.jsx(X,{className:"w-5 h-5"})},{id:"express",name:"Express Shipping",description:"2-3 business days",price:R+9.99,icon:e.jsx(hs,{className:"w-5 h-5"})},{id:"overnight",name:"Overnight Shipping",description:"Next business day",price:R+24.99,icon:e.jsx(B,{className:"w-5 h-5"})}],K=s=>{s<=n+1&&p(s)},J=()=>{n<4&&p(n+1)},Q=()=>{n>1&&p(n-1)},re=async s=>{I(!0);try{await new Promise(u=>setTimeout(u,3e3));const q={items:k.map(u=>({productId:u.product.id,quantity:u.quantity,price:u.price})),shippingAddress:{firstName:s.firstName,lastName:s.lastName,address:s.address,city:s.city,state:s.state,zipCode:s.zipCode,country:s.country},billingAddress:s.billingAddressSame?{firstName:s.firstName,lastName:s.lastName,address:s.address,city:s.city,state:s.state,zipCode:s.zipCode,country:s.country}:{firstName:s.firstName,lastName:s.lastName,address:s.billingAddress,city:s.billingCity,state:s.billingState,zipCode:s.billingZipCode,country:s.billingCountry},paymentMethod:{type:b,cardLast4:s.cardNumber.slice(-4)},shippingMethod:m,subtotal:U,tax:H,shipping:z.find(u=>u.id===m)?.price||R,discount:M,total:Y+(z.find(u=>u.id===m)?.price||R)-R};await c(),V.success("Order placed successfully!"),t("/order-success",{state:{orderData:q}})}catch(q){console.error("Checkout error:",q),V.error("Payment failed. Please try again.")}finally{I(!1)}},Z=[{id:1,name:"Shipping",icon:e.jsx(me,{className:"w-5 h-5"})},{id:2,name:"Payment",icon:e.jsx(ne,{className:"w-5 h-5"})},{id:3,name:"Review",icon:e.jsx(W,{className:"w-5 h-5"})}];return e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(w,{variant:"ghost",onClick:()=>t("/cart"),className:"p-2",children:e.jsx(ie,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"})]}),e.jsx("div",{className:"flex items-center justify-center mb-8",children:Z.map((s,q)=>e.jsxs(Xe.Fragment,{children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg cursor-pointer transition-colors ${n>=s.id?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,onClick:()=>K(s.id),children:[s.icon,e.jsx("span",{className:"font-medium",children:s.name}),n>s.id&&e.jsx(W,{className:"w-4 h-4 text-green-600"})]}),q<Z.length-1&&e.jsx("div",{className:`h-0.5 w-12 mx-2 ${n>s.id?"bg-orange-300":"bg-gray-300"}`})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(os,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(re),className:"space-y-6",children:[n===1&&e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Shipping Information"]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{control:r.control,name:"firstName",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"First Name"}),e.jsx(f,{children:e.jsx(S,{placeholder:"John",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"lastName",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Last Name"}),e.jsx(f,{children:e.jsx(S,{placeholder:"Doe",...s})}),e.jsx(C,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{control:r.control,name:"email",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Email"}),e.jsx(f,{children:e.jsx(S,{type:"email",placeholder:"john@example.com",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"phone",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Phone Number"}),e.jsx(f,{children:e.jsx(S,{placeholder:"+1 (555) 123-4567",...s})}),e.jsx(C,{})]})})]}),e.jsx(g,{control:r.control,name:"address",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Address"}),e.jsx(f,{children:e.jsx(S,{placeholder:"123 Main Street",...s})}),e.jsx(C,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(g,{control:r.control,name:"city",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"City"}),e.jsx(f,{children:e.jsx(S,{placeholder:"New York",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"state",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"State"}),e.jsx(f,{children:e.jsx(S,{placeholder:"NY",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"zipCode",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"ZIP Code"}),e.jsx(f,{children:e.jsx(S,{placeholder:"10001",...s})}),e.jsx(C,{})]})})]}),e.jsx(g,{control:r.control,name:"country",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Country"}),e.jsxs(le,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(f,{children:e.jsx(ce,{children:e.jsx(de,{placeholder:"Select a country"})})}),e.jsxs(oe,{children:[e.jsx(G,{value:"United States",children:"United States"}),e.jsx(G,{value:"Canada",children:"Canada"}),e.jsx(G,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(G,{value:"Australia",children:"Australia"})]})]}),e.jsx(C,{})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Shipping Options"}),e.jsx(ye,{value:m,onValueChange:D,children:z.map(s=>e.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg",children:[e.jsx(be,{value:s.id,id:s.id}),e.jsxs(ve,{htmlFor:s.id,className:"flex items-center justify-between w-full cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.icon,e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-600",children:s.description})]})]}),e.jsx("div",{className:"font-medium",children:s.price===0?"FREE":`$${s.price.toFixed(2)}`})]})]},s.id))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(w,{onClick:J,className:"amazon-button",children:["Continue to Payment",e.jsx(B,{className:"w-4 h-4 ml-2"})]})})]})]}),n===2&&e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),"Payment Information"]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Payment Method"}),e.jsx(ye,{value:b,onValueChange:E,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{value:"card",id:"card"}),e.jsxs(ve,{htmlFor:"card",className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(ne,{className:"w-4 h-4"}),"Credit/Debit Card"]})]})})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{control:r.control,name:"cardName",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Cardholder Name"}),e.jsx(f,{children:e.jsx(S,{placeholder:"John Doe",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"cardNumber",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Card Number"}),e.jsx(f,{children:e.jsx(S,{placeholder:"1234 5678 9012 3456",...s})}),e.jsx(C,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(g,{control:r.control,name:"expiryMonth",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Month"}),e.jsxs(le,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(f,{children:e.jsx(ce,{children:e.jsx(de,{placeholder:"MM"})})}),e.jsx(oe,{children:Array.from({length:12},(q,u)=>e.jsx(G,{value:String(u+1).padStart(2,"0"),children:String(u+1).padStart(2,"0")},u+1))})]}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"expiryYear",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Year"}),e.jsxs(le,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(f,{children:e.jsx(ce,{children:e.jsx(de,{placeholder:"YYYY"})})}),e.jsx(oe,{children:Array.from({length:10},(q,u)=>e.jsx(G,{value:String(new Date().getFullYear()+u),children:new Date().getFullYear()+u},u))})]}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"cvv",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"CVV"}),e.jsx(f,{children:e.jsx(S,{placeholder:"123",...s})}),e.jsx(C,{})]})})]})]}),e.jsx(T,{}),e.jsxs("div",{children:[e.jsx(g,{control:r.control,name:"billingAddressSame",render:({field:s})=>e.jsxs(N,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(f,{children:e.jsx(he,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(v,{children:"Billing address is the same as shipping address"})})]})}),!j&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Billing Address"}),e.jsx(g,{control:r.control,name:"billingAddress",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"Address"}),e.jsx(f,{children:e.jsx(S,{placeholder:"123 Billing Street",...s})}),e.jsx(C,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(g,{control:r.control,name:"billingCity",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"City"}),e.jsx(f,{children:e.jsx(S,{placeholder:"New York",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"billingState",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"State"}),e.jsx(f,{children:e.jsx(S,{placeholder:"NY",...s})}),e.jsx(C,{})]})}),e.jsx(g,{control:r.control,name:"billingZipCode",render:({field:s})=>e.jsxs(N,{children:[e.jsx(v,{children:"ZIP Code"}),e.jsx(f,{children:e.jsx(S,{placeholder:"10001",...s})}),e.jsx(C,{})]})})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(w,{variant:"outline",onClick:Q,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Back to Shipping"]}),e.jsxs(w,{onClick:J,className:"amazon-button",children:["Review Order",e.jsx(B,{className:"w-4 h-4 ml-2"})]})]})]})]}),n===3&&e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Review Your Order"]})}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:k.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[e.jsx("img",{src:s.product.thumbnail||"/api/placeholder/80/80",alt:s.product.title,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.product.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",s.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["$",(s.price*s.quantity).toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",s.price.toFixed(2)," each"]})]})]},s.id))})]}),e.jsx(T,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Shipping Information"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{children:[r.getValues("firstName")," ",r.getValues("lastName")]}),e.jsx("p",{children:r.getValues("address")}),e.jsxs("p",{children:[r.getValues("city"),", ",r.getValues("state")," ",r.getValues("zipCode")]}),e.jsx("p",{children:r.getValues("country")})]})]}),e.jsx(T,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Payment Information"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{children:["**** **** **** ",r.getValues("cardNumber").slice(-4)]}),e.jsx("p",{children:r.getValues("cardName")})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(w,{variant:"outline",onClick:Q,children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Back to Payment"]}),e.jsx(w,{type:"submit",disabled:F,className:"amazon-button",children:F?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"Place Order"]})})]})]})]})]})})}),e.jsx("div",{children:e.jsxs(P,{className:"sticky top-4",children:[e.jsx(_,{children:e.jsx($,{children:"Order Summary"})}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Subtotal (",k.length," items)"]}),e.jsxs("span",{children:["$",U.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:z.find(s=>s.id===m)?.price===0?"FREE":`$${(z.find(s=>s.id===m)?.price||R).toFixed(2)}`})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",H.toFixed(2)]})]}),M>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-$",M.toFixed(2)]})]}),e.jsx(T,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(Y+(z.find(s=>s.id===m)?.price||R)-R).toFixed(2)]})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Pe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Secure SSL encryption"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Protected payment"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(X,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{children:"Tracked delivery"})]})]})]})]})})]})]})})},Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"})),Os=()=>{const t=ke().state?.orderData;if(!t)return e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order not found"}),e.jsx(L,{to:"/",children:e.jsx(w,{children:"Return to Home"})})]});const i=`RK${Date.now().toString().slice(-8)}`,h=new Date;return h.setDate(h.getDate()+7),e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Thank you for your purchase. Your order has been confirmed and will be shipped soon."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Order Information"})}),e.jsx(A,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Order Number"}),e.jsx("div",{className:"font-medium",children:i})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Order Date"}),e.jsx("div",{className:"font-medium",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsxs("div",{className:"font-medium",children:["**** **** **** ",t.paymentMethod.cardLast4]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),e.jsx("div",{className:"font-medium",children:h.toLocaleDateString()})]})]})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Order Items"})}),e.jsx(A,{children:e.jsx("div",{className:"space-y-4",children:t.items.map((c,n)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("img",{src:"/api/placeholder/80/80",alt:"Product",className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium",children:["Product Item ",n+1]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",c.quantity]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Price: $",c.price.toFixed(2)]})]}),e.jsxs(ue,{variant:"outline",children:["$",(c.price*c.quantity).toFixed(2)]})]},n))})})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Shipping Address"]})}),e.jsx(A,{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"font-medium",children:[t.shippingAddress.firstName," ",t.shippingAddress.lastName]}),e.jsx("p",{children:t.shippingAddress.address}),e.jsxs("p",{children:[t.shippingAddress.city,", ",t.shippingAddress.state," ",t.shippingAddress.zipCode]}),e.jsx("p",{children:t.shippingAddress.country})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"Order Summary"})}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",t.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{children:["$",t.shipping.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["$",t.tax.toFixed(2)]})]}),t.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-$",t.discount.toFixed(2)]})]}),e.jsx(T,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.total.toFixed(2)]})]})]})]}),e.jsxs(P,{children:[e.jsx(_,{children:e.jsx($,{children:"What's Next?"})}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Track Your Order"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Get real-time updates"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(us,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Download Receipt"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Save for your records"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"View Order History"}),e.jsx("div",{className:"text-xs text-gray-600",children:"See all your orders"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(L,{to:"/account/orders",children:e.jsxs(w,{className:"w-full amazon-button",children:["View Order Details",e.jsx(B,{className:"w-4 h-4 ml-2"})]})}),e.jsx(L,{to:"/products",children:e.jsx(w,{variant:"outline",className:"w-full",children:"Continue Shopping"})})]}),e.jsx(P,{children:e.jsxs(A,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Contact our customer service team for any questions about your order."}),e.jsx(w,{variant:"outline",size:"sm",className:"w-full",children:"Contact Support"})]})})]})]})]})})},Ls=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));export{qs as C,Ls as O,Ts as a};
