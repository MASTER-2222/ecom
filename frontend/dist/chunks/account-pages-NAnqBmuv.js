import{r as e,j as s,S as a,c as t,V as r,H as i,R as l,a as n,b as c,L as o,T as d,C as m,d as u,I as h,F as x,u as g,e as p,f,P as v,A as j,g as y,X as b,h as N,M as w,i as k,k as C,l as S,m as P,n as I,o as _,p as A,q as z,s as $,t as F,v as O,w as W,x as D,y as E,U as R,B as T,z as M,D as B,E as Y}from"./react-vendor-CxxVBidG.js";import{c as q,a as L}from"./utils-vendor-BR0nsxSc.js";import{t as U,c as J}from"./vendor-1iy_n1JC.js";function V(...e){return U(q(e))}const H=J("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),K=e.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...l},n)=>{const c=i?a:"button";return s.jsx(c,{"data-slot":"button",className:V(H({variant:t,size:r,className:e})),ref:n,...l})});K.displayName="Button";const Z=J("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function G({className:e,variant:t,asChild:r=!1,...i}){const l=r?a:"span";return s.jsx(l,{"data-slot":"badge",className:V(Z({variant:t}),e),...i})}const Q=e.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,"data-slot":"input",className:V("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...t}));Q.displayName="Input";const X=parseInt("10000"),ee=L.create({baseURL:"https://ritkart-backend.onrender.com/api",timeout:X,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{const s=localStorage.getItem("ritkart_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),ee.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)));const se=async e=>(await ee.post("/auth/login",e)).data.data,ae=async e=>(await ee.post("/auth/register",e)).data.data,te=async()=>{await ee.post("/auth/logout"),localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user")},re=async()=>(await ee.get("/auth/profile")).data.data,ie=async e=>(await ee.put("/auth/profile",e)).data.data,le={getProducts:async e=>(await ee.get("/products",{params:e})).data,getProduct:async e=>(await ee.get(`/products/${e}`)).data.data,getFeaturedProducts:async()=>(await ee.get("/products/featured")).data.data,getProductsByCategory:async(e,s)=>(await ee.get(`/products/category/${e}`,{params:s})).data,searchProducts:async(e,s)=>(await ee.get("/products/search",{params:{q:e,...s}})).data,getSearchSuggestions:async(e,s=10)=>(await ee.get("/products/search/suggestions",{params:{q:e,limit:s}})).data,getSearchAutocomplete:async(e,s=5)=>(await ee.get("/products/search/autocomplete",{params:{q:e,limit:s}})).data,advancedSearch:async e=>(await ee.get("/products/search/advanced",{params:e})).data,getPopularSearchTerms:async(e=10)=>(await ee.get("/products/search/popular",{params:{limit:e}})).data,getSearchAnalytics:async(e=30)=>(await ee.get("/products/search/analytics",{params:{days:e}})).data},ne={getCategories:async()=>(await ee.get("/categories")).data.data,getCategory:async e=>(await ee.get(`/categories/${e}`)).data.data,getCategoryBySlug:async e=>(await ee.get(`/categories/slug/${e}`)).data.data},ce=async()=>(await ee.get("/cart")).data.data,oe=async(e,s,a)=>(await ee.post("/cart/add",{productId:e,quantity:s,options:a})).data.data,de=async(e,s)=>(await ee.put(`/cart/items/${e}`,{quantity:s})).data.data,me=async e=>(await ee.delete(`/cart/items/${e}`)).data.data,ue=async()=>{await ee.delete("/cart/clear")},he={getProductReviews:async(e,s,a)=>(await ee.get(`/products/${e}/reviews`,{params:{page:s,limit:a}})).data,createReview:async(e,s)=>(await ee.post(`/products/${e}/reviews`,s)).data.data,updateReview:async(e,s)=>(await ee.put(`/reviews/${e}`,s)).data.data,deleteReview:async e=>{await ee.delete(`/reviews/${e}`)},markReviewHelpful:async e=>(await ee.post(`/reviews/${e}/helpful`)).data.data},xe=async()=>(await ee.get("/wishlist/with-products")).data,ge=async e=>(await ee.post("/wishlist/items",{productId:e})).data,pe=async e=>(await ee.delete(`/wishlist/items/${e}`)).data,fe=async e=>(await ee.post(`/wishlist/items/${e}/toggle`)).data,ve=async()=>(await ee.delete("/wishlist/clear")).data,je=e=>{localStorage.setItem("ritkart_token",e)},ye=e=>{localStorage.setItem("ritkart_user",JSON.stringify(e))},be=e.createContext(void 0),Ne=()=>{const s=e.useContext(be);if(void 0===s)throw new Error("useAuth must be used within an AuthProvider");return s},we=()=>{const[s,a]=e.useState(null),[r,i]=e.useState(!0);e.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("ritkart_token"),t=(()=>{const e=localStorage.getItem("ritkart_user");return e?JSON.parse(e):null})();if(s&&t)try{const e=await re();if(!e||!e.id)throw new Error("Invalid user data received");a(e),ye(e)}catch(e){localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),localStorage.removeItem("ritkart_refresh_token"),a(null)}}catch(s){localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),localStorage.removeItem("ritkart_refresh_token"),a(null)}finally{i(!1)}})()},[]);return{user:s,loading:r,login:async e=>{try{i(!0);const s=await se(e);return je(s.token),ye(s.user),a(s.user),s.refreshToken&&localStorage.setItem("ritkart_refresh_token",s.refreshToken),t.success("Welcome back!"),!0}catch(s){const e=s.response?.data?.message||"Login failed. Please try again.";return t.error(e),!1}finally{i(!1)}},register:async e=>{try{i(!0);const s=await ae(e);return je(s.token),ye(s.user),a(s.user),s.refreshToken&&localStorage.setItem("ritkart_refresh_token",s.refreshToken),t.success("Account created successfully!"),!0}catch(s){const e=s.response?.data?.message||"Registration failed. Please try again.";return t.error(e),!1}finally{i(!1)}},logout:()=>{try{te()}catch(e){}finally{a(null),localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),localStorage.removeItem("ritkart_refresh_token"),t.success("Logged out successfully")}},updateUser:async e=>{try{const s=await ie(e);a(s),ye(s),t.success("Profile updated successfully")}catch(s){const e=s.response?.data?.message||"Failed to update profile";throw t.error(e),s}},isAuthenticated:!!s,isAdmin:"ADMIN"===s?.role}},ke=e.createContext(void 0),Ce=()=>{const s=e.useContext(ke);if(void 0===s)throw new Error("useCart must be used within a CartProvider");return s},Se=()=>{const[s,a]=e.useState(null),[r,i]=e.useState(!1),{isAuthenticated:l}=Ne();e.useEffect(()=>{l?n():a(null)},[l]);const n=async()=>{if(l)try{i(!0);const e=await ce();a(e)}catch(e){e.response}finally{i(!1)}},c=async e=>{if(l)try{i(!0);const s=await me(e);a(s),t.success("Item removed from cart")}catch(s){const e=s.response?.data?.message||"Failed to remove item from cart";throw t.error(e),s}finally{i(!1)}};return{cart:s,loading:r,addToCart:async(e,s=1,r)=>{if(l)try{i(!0);const l=await oe(e.id,s,r);a(l),t.success(`${e.title} added to cart`)}catch(n){const e=n.response?.data?.message||"Failed to add item to cart";throw t.error(e),n}finally{i(!1)}else t.error("Please sign in to add items to cart")},updateCartItem:async(e,s)=>{if(l)try{if(i(!0),s<=0)return void(await c(e));const r=await de(e,s);a(r),t.success("Cart updated")}catch(r){const e=r.response?.data?.message||"Failed to update cart item";throw t.error(e),r}finally{i(!1)}},removeFromCart:c,clearCart:async()=>{if(l)try{i(!0),await ue(),a(null),t.success("Cart cleared")}catch(e){const s=e.response?.data?.message||"Failed to clear cart";throw t.error(s),e}finally{i(!1)}},getCartItemCount:()=>s?.totalItems||0,getCartTotal:()=>s?.total||0,isInCart:e=>s?.items.some(s=>s.product.id===e)||!1,refreshCart:n}},Pe=e.createContext(void 0),Ie=()=>{const s=e.useContext(Pe);if(void 0===s)throw new Error("useWishlist must be used within a WishlistProvider");return s},_e=()=>{const[s,a]=e.useState(null),[r,i]=e.useState([]),[l,n]=e.useState(!1),{isAuthenticated:c}=Ne();e.useEffect(()=>{c?o():(a(null),i([]))},[c]);const o=async()=>{if(c)try{n(!0);const e=await xe();a(e.wishlist),i(e.products)}catch(e){e.response}finally{n(!1)}};return{wishlist:s,wishlistProducts:r,loading:l,addToWishlist:async e=>{if(c)try{n(!0);const s=await ge(e.id);a(s),r.find(s=>s.id===e.id)||i(s=>[...s,e]),t.success(`${e.title} added to wishlist`)}catch(s){const e=s.response?.data?.message||"Failed to add item to wishlist";throw t.error(e),s}finally{n(!1)}else t.error("Please sign in to add items to wishlist")},removeFromWishlist:async e=>{if(c)try{n(!0);const s=await pe(e);a(s),i(s=>s.filter(s=>s.id!==e));const l=r.find(s=>s.id===e);t.success(`${l?.title||"Item"} removed from wishlist`)}catch(s){const e=s.response?.data?.message||"Failed to remove item from wishlist";throw t.error(e),s}finally{n(!1)}},toggleWishlist:async e=>{if(c)try{n(!0);const s=await fe(e.id);a(s.wishlist),s.added?(r.find(s=>s.id===e.id)||i(s=>[...s,e]),t.success(`${e.title} added to wishlist`)):(i(s=>s.filter(s=>s.id!==e.id)),t.success(`${e.title} removed from wishlist`))}catch(s){const e=s.response?.data?.message||"Failed to update wishlist";throw t.error(e),s}finally{n(!1)}else t.error("Please sign in to manage your wishlist")},clearWishlist:async()=>{if(c)try{n(!0);const e=await ve();a(e),i([]),t.success("Wishlist cleared")}catch(e){const s=e.response?.data?.message||"Failed to clear wishlist";throw t.error(s),e}finally{n(!1)}},isInWishlist:e=>s?.items.some(s=>s.productId===e)||!1,getWishlistItemCount:()=>s?.items.length||0,refreshWishlist:o}};function Ae({className:e,...a}){return s.jsx("div",{"data-slot":"card",className:V("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function ze({className:e,...a}){return s.jsx("div",{"data-slot":"card-header",className:V("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function $e({className:e,...a}){return s.jsx("div",{"data-slot":"card-title",className:V("leading-none font-semibold",e),...a})}function Fe({className:e,...a}){return s.jsx("div",{"data-slot":"card-description",className:V("text-muted-foreground text-sm",e),...a})}function Oe({className:e,...a}){return s.jsx("div",{"data-slot":"card-content",className:V("px-6",e),...a})}const We=e.createContext(void 0),De=()=>{const s=e.useContext(We);if(void 0===s)throw new Error("useComparison must be used within a ComparisonProvider");return s},Ee=()=>{const[s,a]=e.useState([]);e.useEffect(()=>{const e=localStorage.getItem("ritkart_comparison");if(e)try{const s=JSON.parse(e);a(Array.isArray(s)?s:[])}catch(s){localStorage.removeItem("ritkart_comparison")}},[]),e.useEffect(()=>{localStorage.setItem("ritkart_comparison",JSON.stringify(s))},[s]);const t=e=>s.some(s=>s.id===e),i=s.length<4,l=s.length;return{comparedProducts:s,addToComparison:e=>{s.length>=4?r.error("You can only compare up to 4 products at once"):t(e.id)?r.info("Product is already in comparison"):(a(s=>[...s,e]),r.success(`${e.name||e.title} added to comparison`))},removeFromComparison:e=>{const t=s.find(s=>s.id===e);a(s=>s.filter(s=>s.id!==e)),t&&r.success(`${t.name||t.title} removed from comparison`)},clearComparison:()=>{a([]),r.success("Comparison cleared")},isInComparison:t,canAddMore:i,comparisonCount:l,maxComparisonItems:4}},Re=({product:e,size:a="md",variant:t="ghost",showText:r=!1,className:l})=>{const{isInWishlist:n,toggleWishlist:c,loading:o}=Ie(),{isAuthenticated:d}=Ne(),m=n(e.id),u=async s=>{s.preventDefault(),s.stopPropagation(),d&&await c(e)},h={sm:"h-3.5 w-3.5",md:"h-4 w-4",lg:"h-5 w-5"};return r?s.jsxs(K,{variant:"filled"===t?"default":t,size:a,onClick:u,disabled:o,className:V("flex items-center gap-2",m&&"filled"===t&&"bg-red-500 hover:bg-red-600",m&&"outline"===t&&"border-red-500 text-red-500 hover:bg-red-50",m&&"ghost"===t&&"text-red-500 hover:bg-red-50",l),children:[s.jsx(i,{className:V(h[a],m&&"fill-current")}),m?"Remove from Wishlist":"Add to Wishlist"]}):s.jsx(K,{variant:"filled"===t?"default":t,size:a,onClick:u,disabled:o,className:V({sm:"h-8 w-8 p-0",md:"h-9 w-9 p-0",lg:"h-10 w-10 p-0"}[a],"rounded-full",m&&"filled"===t&&"bg-red-500 hover:bg-red-600",m&&"outline"===t&&"border-red-500 text-red-500 hover:bg-red-50",m&&"ghost"===t&&"text-red-500 hover:bg-red-50 hover:text-red-600",!m&&"ghost"===t&&"text-gray-400 hover:text-red-500",l),title:m?"Remove from Wishlist":"Add to Wishlist",children:s.jsx(i,{className:V(h[a],m&&"fill-current")})})};function Te({className:e,...a}){return s.jsx(l,{"data-slot":"label",className:V("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}function Me({className:e,orientation:a="horizontal",decorative:t=!0,...r}){return s.jsx(n,{"data-slot":"separator-root",decorative:t,orientation:a,className:V("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Be({className:e,...a}){return s.jsx(c,{"data-slot":"tabs",className:V("flex flex-col gap-2",e),...a})}function Ye({className:e,...a}){return s.jsx(o,{"data-slot":"tabs-list",className:V("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function qe({className:e,...a}){return s.jsx(d,{"data-slot":"tabs-trigger",className:V("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function Le({className:e,...a}){return s.jsx(m,{"data-slot":"tabs-content",className:V("flex-1 outline-none",e),...a})}function Ue({className:e,...a}){return s.jsx(u,{"data-slot":"avatar",className:V("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...a})}function Je({className:e,...a}){return s.jsx(h,{"data-slot":"avatar-image",className:V("aspect-square size-full",e),...a})}function Ve({className:e,...a}){return s.jsx(x,{"data-slot":"avatar-fallback",className:V("bg-muted flex size-full items-center justify-center rounded-full",e),...a})}const He=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{comparedProducts:e,removeFromComparison:a,clearComparison:t}=De(),{addToCart:r,loading:i}=Ce(),{isAuthenticated:l}=Ne(),n=g(),c=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=e=>!e.originalPrice||e.originalPrice<=e.price?0:Math.round((e.originalPrice-e.price)/e.originalPrice*100),d=(e,s)=>e.attributes&&e.attributes[s]?e.attributes[s]:e.specifications&&e.specifications[s]?e.specifications[s]:null;if(0===e.length)return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsx(p,{className:"w-24 h-24 mx-auto text-gray-400 mb-6"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Products to Compare"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Start browsing products and add them to comparison to see a detailed side-by-side view."}),s.jsx(f,{to:"/",children:s.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),"Browse Products"]})})]})})});const m=(()=>{const s=new Set;return e.forEach(e=>{e.attributes&&Object.keys(e.attributes).forEach(e=>s.add(e)),e.specifications&&Object.keys(e.specifications).forEach(e=>s.add(e))}),Array.from(s)})();return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(K,{variant:"ghost",onClick:()=>n(-1),className:"flex items-center gap-2",children:[s.jsx(j,{className:"w-4 h-4"}),"Back"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(p,{className:"w-8 h-8 text-blue-600"}),"Product Comparison"]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Comparing ",e.length," product",1!==e.length?"s":""]})]})]}),s.jsxs(K,{variant:"outline",onClick:t,className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(y,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 w-40 bg-gray-50",children:s.jsx("span",{className:"font-semibold text-gray-900",children:"Products"})}),e.map(e=>s.jsx("th",{className:"text-center p-4 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>a(e.id),className:"absolute -top-2 -right-2 p-1 rounded-full bg-red-100 hover:bg-red-200 text-red-600 transition-colors",children:s.jsx(b,{className:"w-4 h-4"})}),s.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-100 rounded-lg overflow-hidden mb-4",children:e.thumbnail||e.images?.[0]?s.jsx("img",{src:e.thumbnail||e.images[0],alt:e.name||e.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500 text-sm",children:"No Image"})}),s.jsx(f,{to:`/product/${e.id}`,className:"font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 text-sm mb-2 block",children:e.name||e.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.brand})]})},e.id))]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Price"}),e.map(e=>s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:c(e.price)}),e.originalPrice&&e.originalPrice>e.price&&s.jsx("div",{className:"text-sm text-gray-500 line-through",children:c(e.originalPrice)}),o(e)>0&&s.jsxs(G,{className:"bg-red-500 text-white text-xs",children:["-",o(e),"% OFF"]})]})},e.id))]}),s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Rating"}),e.map(e=>{return s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[(a=e.rating||e.averageRating||0,s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((e,t)=>s.jsx(C,{className:"w-4 h-4 "+(t<Math.floor(a)?"text-yellow-400 fill-current":t<a?"text-yellow-400 fill-current opacity-50":"text-gray-300")},t)),s.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",a,")"]})]})),e.reviewCount&&s.jsxs("span",{className:"text-xs text-gray-500",children:[e.reviewCount," reviews"]})]})},e.id);var a})]}),s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Availability"}),e.map(e=>s.jsxs("td",{className:"p-4 text-center",children:[e.stock>0?s.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600",children:[s.jsx(N,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In Stock"})]}):s.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600",children:[s.jsx(b,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Out of Stock"})]}),e.stock>0&&e.stock<=10&&s.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["Only ",e.stock," left"]})]},e.id))]}),s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Description"}),e.map(e=>s.jsx("td",{className:"p-4 text-center",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.shortDescription||e.description||"No description available"})},e.id))]}),m.map(a=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50 capitalize",children:a.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),e.map(e=>s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:"text-sm text-gray-600",children:d(e,a)||s.jsx("div",{className:"flex items-center justify-center text-gray-400",children:s.jsx(w,{className:"w-4 h-4"})})})},e.id))]},a)),s.jsxs("tr",{className:"bg-gray-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-900",children:"Actions"}),e.map(e=>s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(K,{onClick:()=>(async e=>{if(l)try{await r(e,1)}catch(s){}else n("/login")})(e),disabled:i||0===e.stock,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:i?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):0===e.stock?"Out of Stock":s.jsxs(s.Fragment,{children:[s.jsx(k,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})}),s.jsx(Re,{product:e,showText:!0,size:"sm",variant:"outline",className:"w-full"}),s.jsx(f,{to:`/product/${e.id}`,children:s.jsx(K,{variant:"ghost",size:"sm",className:"w-full",children:"View Details"})})]})},e.id))]})]})]})})}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:"You can compare up to 4 products. Add more products from our catalog to compare."}),s.jsx(f,{to:"/",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Continue Shopping"})]})]})})}},Symbol.toStringTag,{value:"Module"}));function Ke({className:e,...a}){return s.jsx(S,{"data-slot":"switch",className:V("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:s.jsx(P,{"data-slot":"switch-thumb",className:V("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Ze=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:a,logout:t}=Ne(),i=I(),[l,n]=e.useState(!1),[c,o]=e.useState({firstName:a?.firstName||"",lastName:a?.lastName||"",email:a?.email||"",phoneNumber:a?.phoneNumber||"",dateOfBirth:"",gender:""}),[d,m]=e.useState({orderUpdates:!0,promotions:!1,newsletter:!0,security:!0}),u=[{id:"profile",label:"Profile",icon:s.jsx(R,{className:"w-4 h-4"})},{id:"orders",label:"Orders",icon:s.jsx(v,{className:"w-4 h-4"})},{id:"addresses",label:"Addresses",icon:s.jsx(D,{className:"w-4 h-4"})},{id:"payment",label:"Payment Methods",icon:s.jsx(E,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:s.jsx(T,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:s.jsx(M,{className:"w-4 h-4"})},{id:"settings",label:"Settings",icon:s.jsx(B,{className:"w-4 h-4"})}];return s.jsx("div",{className:"bg-gray-50 min-h-screen",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ae,{children:s.jsxs(Oe,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs(Ue,{className:"w-20 h-20 mx-auto mb-4",children:[s.jsx(Je,{src:a?.profilePicture}),s.jsxs(Ve,{className:"text-lg",children:[a?.firstName?.[0],a?.lastName?.[0]]})]}),s.jsxs("h3",{className:"font-semibold text-lg",children:[a?.firstName," ",a?.lastName]}),s.jsx("p",{className:"text-gray-600 text-sm",children:a?.email}),s.jsx(G,{variant:"outline",className:"mt-2",children:a?.role})]}),s.jsx(Me,{className:"mb-4"}),s.jsx("nav",{className:"space-y-2",children:u.map(e=>s.jsxs(f,{to:`/account/${e.id}`,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors "+(i.pathname.includes(e.id)||"/account"===i.pathname&&"profile"===e.id?"bg-orange-100 text-orange-700":"hover:bg-gray-100"),children:[e.icon,s.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.id))}),s.jsx(Me,{className:"my-4"}),s.jsxs(K,{variant:"ghost",onClick:()=>{t(),r.success("Logged out successfully")},className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(_,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs(Be,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[s.jsx(qe,{value:"profile",children:"Profile"}),s.jsx(qe,{value:"orders",children:"Orders"}),s.jsx(qe,{value:"addresses",children:"Addresses"}),s.jsx(qe,{value:"payment",children:"Payment"})]}),s.jsx(Le,{value:"profile",children:s.jsxs(Ae,{children:[s.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[s.jsx($e,{children:"Personal Information"}),l?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",onClick:()=>n(!1),children:[s.jsx(b,{className:"w-4 h-4 mr-2"}),"Cancel"]}),s.jsxs(K,{onClick:()=>{n(!1),r.success("Profile updated successfully!")},children:[s.jsx(z,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):s.jsxs(K,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(A,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),s.jsxs(Oe,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(Ue,{className:"w-24 h-24",children:[s.jsx(Je,{src:a?.profilePicture}),s.jsxs(Ve,{className:"text-xl",children:[a?.firstName?.[0],a?.lastName?.[0]]})]}),l&&s.jsxs(K,{variant:"outline",size:"sm",children:[s.jsx($,{className:"w-4 h-4 mr-2"}),"Change Photo"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"firstName",children:"First Name"}),s.jsx(Q,{id:"firstName",value:c.firstName,onChange:e=>o({...c,firstName:e.target.value}),disabled:!l})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"lastName",children:"Last Name"}),s.jsx(Q,{id:"lastName",value:c.lastName,onChange:e=>o({...c,lastName:e.target.value}),disabled:!l})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx(Q,{id:"email",type:"email",value:c.email,onChange:e=>o({...c,email:e.target.value}),disabled:!l,className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(O,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx(Q,{id:"phone",value:c.phoneNumber,onChange:e=>o({...c,phoneNumber:e.target.value}),disabled:!l,className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"dateOfBirth",children:"Date of Birth"}),s.jsxs("div",{className:"relative",children:[s.jsx(W,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx(Q,{id:"dateOfBirth",type:"date",value:c.dateOfBirth,onChange:e=>o({...c,dateOfBirth:e.target.value}),disabled:!l,className:"pl-10"})]})]})]}),s.jsx(Me,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notification Preferences"}),s.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([e,a])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),s.jsxs("div",{className:"text-sm text-gray-600",children:["orderUpdates"===e&&"Receive updates about your orders","promotions"===e&&"Get notified about special offers and deals","newsletter"===e&&"Weekly newsletter with new products","security"===e&&"Important security notifications"]})]}),s.jsx(Ke,{checked:a,onCheckedChange:s=>m({...d,[e]:s})})]},e))})]})]})]})}),s.jsx(Le,{value:"orders",children:s.jsxs(Ae,{children:[s.jsx(ze,{children:s.jsx($e,{children:"Order History"})}),s.jsx(Oe,{children:s.jsx("div",{className:"space-y-4",children:[{id:"RK12345678",date:"2024-01-15",status:"Delivered",total:299.99,items:3},{id:"RK12345679",date:"2024-01-10",status:"Shipped",total:159.99,items:2},{id:"RK12345680",date:"2024-01-05",status:"Processing",total:89.99,items:1}].map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Order #",e.id]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(e.date).toLocaleDateString()," • ",e.items," items"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(G,{variant:"Delivered"===e.status?"default":"Shipped"===e.status?"secondary":"outline",children:e.status}),s.jsxs("div",{className:"font-medium mt-1",children:["$",e.total]})]})]},e.id))})})]})}),s.jsx(Le,{value:"addresses",children:s.jsxs(Ae,{children:[s.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[s.jsx($e,{children:"Saved Addresses"}),s.jsxs(K,{children:[s.jsx(D,{className:"w-4 h-4 mr-2"}),"Add New Address"]})]}),s.jsx(Oe,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:1,type:"Home",name:"John Doe",address:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",isDefault:!0},{id:2,type:"Work",name:"John Doe",address:"456 Business Ave",city:"New York",state:"NY",zipCode:"10002",isDefault:!1}].map(e=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(G,{variant:"outline",children:e.type}),e.isDefault&&s.jsx(G,{variant:"secondary",children:"Default"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:e.name}),s.jsx("div",{className:"text-sm text-gray-600",children:e.address}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.city,", ",e.state," ",e.zipCode]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(K,{variant:"outline",size:"sm",children:"Edit"}),s.jsx(K,{variant:"outline",size:"sm",className:"text-red-600",children:"Delete"})]})]},e.id))})})]})}),s.jsx(Le,{value:"payment",children:s.jsxs(Ae,{children:[s.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[s.jsx($e,{children:"Payment Methods"}),s.jsxs(K,{children:[s.jsx(E,{className:"w-4 h-4 mr-2"}),"Add New Card"]})]}),s.jsx(Oe,{children:s.jsx("div",{className:"space-y-4",children:[{id:1,type:"Visa",last4:"1234",expiryMonth:"12",expiryYear:"2025",isDefault:!0},{id:2,type:"Mastercard",last4:"5678",expiryMonth:"08",expiryYear:"2026",isDefault:!1}].map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-8 bg-gray-100 rounded flex items-center justify-center",children:s.jsx(E,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[e.type," ending in ",e.last4]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Expires ",e.expiryMonth,"/",e.expiryYear]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.isDefault&&s.jsx(G,{variant:"secondary",children:"Default"}),s.jsx(K,{variant:"outline",size:"sm",children:"Edit"}),s.jsx(K,{variant:"outline",size:"sm",className:"text-red-600",children:"Remove"})]})]},e.id))})})]})})]})})]})})})}},Symbol.toStringTag,{value:"Module"}));function Ge({className:e,...a}){return s.jsx("div",{"data-slot":"skeleton",className:V("bg-accent animate-pulse rounded-md",e),...a})}const Qe=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{wishlist:a,wishlistProducts:t,loading:r,removeFromWishlist:l,clearWishlist:n,getWishlistItemCount:c,refreshWishlist:o}=Ie(),{addToCart:d,isInCart:m}=Ce();e.useEffect(()=>{o()},[]);const u=async e=>{try{await l(e)}catch(s){}},h=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,a)=>s.jsxs(Ae,{className:"overflow-hidden",children:[s.jsx(Ge,{className:"h-48 w-full"}),s.jsxs(Oe,{className:"p-4",children:[s.jsx(Ge,{className:"h-4 w-3/4 mb-2"}),s.jsx(Ge,{className:"h-4 w-1/2 mb-2"}),s.jsx(Ge,{className:"h-6 w-1/4 mb-4"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ge,{className:"h-9 flex-1"}),s.jsx(Ge,{className:"h-9 w-9"})]})]})]},a))}),x=()=>s.jsxs("div",{className:"text-center py-16",children:[s.jsx(i,{className:"mx-auto h-24 w-24 text-gray-300 mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Save items you're interested in to your wishlist so you can easily find them later."}),s.jsx(f,{to:"/products",children:s.jsx(K,{size:"lg",children:"Continue Shopping"})})]});if(r&&!a)return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(Ge,{className:"h-8 w-48 mb-2"}),s.jsx(Ge,{className:"h-4 w-32"})]}),s.jsx(h,{})]})});const g=c();return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Wishlist"}),s.jsx("p",{className:"text-gray-600",children:0===g?"No items":`${g} item${1!==g?"s":""}`})]}),g>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(K,{variant:"outline",onClick:async()=>{if(window.confirm("Are you sure you want to clear your entire wishlist?"))try{await n()}catch(e){}},className:"flex items-center gap-2",children:[s.jsx(y,{className:"h-4 w-4"}),"Clear All"]}),s.jsxs(K,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(Y,{className:"h-4 w-4"}),"Share"]})]})]}),0===g?s.jsx(x,{}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>s.jsxs(Ae,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx(f,{to:`/products/${e.id}`,children:s.jsx("img",{src:e.thumbnail,alt:e.title,className:"h-48 w-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.discount&&e.discount>0&&s.jsxs(G,{className:"absolute top-2 left-2 bg-red-500 text-white",children:["-",e.discount,"%"]}),s.jsx(K,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-white/80 hover:bg-white text-red-500 hover:text-red-600",onClick:()=>u(e.id),children:s.jsx(i,{className:"h-4 w-4 fill-current"})})]}),s.jsxs(Oe,{className:"p-4",children:[s.jsx(f,{to:`/products/${e.id}`,children:s.jsx("h3",{className:"font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:e.title})}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.brand}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price.toFixed(2)]}),e.originalPrice&&e.originalPrice>e.price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((a,t)=>s.jsx("span",{className:"text-sm "+(t<Math.floor(e.rating)?"text-yellow-400":"text-gray-300"),children:"★"},t))}),s.jsxs("span",{className:"text-sm text-gray-600",children:["(",e.reviewCount,")"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(K,{className:"w-full",onClick:()=>(async e=>{try{await d(e)}catch(s){}})(e),disabled:m(e.id)||0===e.stock,children:[s.jsx(k,{className:"h-4 w-4 mr-2"}),m(e.id)?"In Cart":0===e.stock?"Out of Stock":"Add to Cart"]}),s.jsxs(K,{variant:"outline",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>u(e.id),children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]},e.id))})]})})}},Symbol.toStringTag,{value:"Module"}));export{Ue as A,K as B,Ae as C,He as D,Qe as E,Q as I,Te as L,Ze as P,Me as S,Be as T,Re as W,G as a,ze as b,V as c,$e as d,Oe as e,Ye as f,qe as g,Le as h,Fe as i,Ce as j,ne as k,De as l,Je as m,Ve as n,Ie as o,le as p,we as q,he as r,be as s,Se as t,Ne as u,ke as v,_e as w,Pe as x,Ee as y,We as z};
