import{j as e,S as s,r as a,c as t,V as r,H as i,R as l,a as n,b as c,L as o,T as d,C as m,d as u,I as h,F as x,u as g,e as p,f,P as v,A as j,g as y,X as b,h as N,M as w,i as k,k as C,l as S,m as P,n as I,o as _,p as A,q as z,s as $,t as F,v as O,w as W,x as D,y as E,U as T,B as R,z as M,D as B,E as Y}from"./react-vendor-CBY6H-18.js";import{c as q,a as L}from"./utils-vendor-BR0nsxSc.js";import{t as U,c as J}from"./vendor-BCqyaADa.js";function V(...e){return U(q(e))}const H=J("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function K({className:a,variant:t,size:r,asChild:i=!1,...l}){const n=i?s:"button";return e.jsx(n,{"data-slot":"button",className:V(H({variant:t,size:r,className:a})),...l})}const Z=J("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function G({className:a,variant:t,asChild:r=!1,...i}){const l=r?s:"span";return e.jsx(l,{"data-slot":"badge",className:V(Z({variant:t}),a),...i})}function Q({className:s,type:a,...t}){return e.jsx("input",{type:a,"data-slot":"input",className:V("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...t})}const X=parseInt("10000"),ee=L.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:X,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{const s=localStorage.getItem("ritkart_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e)),ee.interceptors.response.use(e=>e,e=>(401===e.response?.status&&(localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),window.location.href="/login"),Promise.reject(e)));const se=async e=>(await ee.post("/auth/login",e)).data.data,ae=async e=>(await ee.post("/auth/register",e)).data.data,te=async()=>{await ee.post("/auth/logout"),localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user")},re=async()=>(await ee.get("/auth/profile")).data.data,ie=async e=>(await ee.put("/auth/profile",e)).data.data,le={getProducts:async e=>(await ee.get("/products",{params:e})).data,getProduct:async e=>(await ee.get(`/products/${e}`)).data.data,getFeaturedProducts:async()=>(await ee.get("/products/featured")).data.data,getProductsByCategory:async(e,s)=>(await ee.get(`/products/category/${e}`,{params:s})).data,searchProducts:async(e,s)=>(await ee.get("/products/search",{params:{q:e,...s}})).data,getSearchSuggestions:async(e,s=10)=>(await ee.get("/products/search/suggestions",{params:{q:e,limit:s}})).data,getSearchAutocomplete:async(e,s=5)=>(await ee.get("/products/search/autocomplete",{params:{q:e,limit:s}})).data,advancedSearch:async e=>(await ee.get("/products/search/advanced",{params:e})).data,getPopularSearchTerms:async(e=10)=>(await ee.get("/products/search/popular",{params:{limit:e}})).data,getSearchAnalytics:async(e=30)=>(await ee.get("/products/search/analytics",{params:{days:e}})).data},ne={getCategories:async()=>(await ee.get("/categories")).data.data,getCategory:async e=>(await ee.get(`/categories/${e}`)).data.data,getCategoryBySlug:async e=>(await ee.get(`/categories/slug/${e}`)).data.data},ce=async()=>(await ee.get("/cart")).data.data,oe=async(e,s,a)=>(await ee.post("/cart/add",{productId:e,quantity:s,options:a})).data.data,de=async(e,s)=>(await ee.put(`/cart/items/${e}`,{quantity:s})).data.data,me=async e=>(await ee.delete(`/cart/items/${e}`)).data.data,ue=async()=>{await ee.delete("/cart/clear")},he={getProductReviews:async(e,s,a)=>(await ee.get(`/products/${e}/reviews`,{params:{page:s,limit:a}})).data,createReview:async(e,s)=>(await ee.post(`/products/${e}/reviews`,s)).data.data,updateReview:async(e,s)=>(await ee.put(`/reviews/${e}`,s)).data.data,deleteReview:async e=>{await ee.delete(`/reviews/${e}`)},markReviewHelpful:async e=>(await ee.post(`/reviews/${e}/helpful`)).data.data},xe=async()=>(await ee.get("/wishlist/with-products")).data,ge=async e=>(await ee.post("/wishlist/items",{productId:e})).data,pe=async e=>(await ee.delete(`/wishlist/items/${e}`)).data,fe=async e=>(await ee.post(`/wishlist/items/${e}/toggle`)).data,ve=async()=>(await ee.delete("/wishlist/clear")).data,je=e=>{localStorage.setItem("ritkart_token",e)},ye=e=>{localStorage.setItem("ritkart_user",JSON.stringify(e))},be=a.createContext(void 0),Ne=()=>{const e=a.useContext(be);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},we=()=>{const[e,s]=a.useState(null),[r,i]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("ritkart_token"),a=(()=>{const e=localStorage.getItem("ritkart_user");return e?JSON.parse(e):null})();if(e&&a){const e=await re();s(e),ye(e)}}catch(e){localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),localStorage.removeItem("ritkart_refresh_token")}finally{i(!1)}})()},[]);return{user:e,loading:r,login:async e=>{try{i(!0);const a=await se(e);return je(a.token),ye(a.user),s(a.user),a.refreshToken&&localStorage.setItem("ritkart_refresh_token",a.refreshToken),t.success("Welcome back!"),!0}catch(a){const e=a.response?.data?.message||"Login failed. Please try again.";return t.error(e),!1}finally{i(!1)}},register:async e=>{try{i(!0);const a=await ae(e);return je(a.token),ye(a.user),s(a.user),a.refreshToken&&localStorage.setItem("ritkart_refresh_token",a.refreshToken),t.success("Account created successfully!"),!0}catch(a){const e=a.response?.data?.message||"Registration failed. Please try again.";return t.error(e),!1}finally{i(!1)}},logout:()=>{try{te()}catch(e){}finally{s(null),localStorage.removeItem("ritkart_token"),localStorage.removeItem("ritkart_user"),localStorage.removeItem("ritkart_refresh_token"),t.success("Logged out successfully")}},updateUser:async e=>{try{const a=await ie(e);s(a),ye(a),t.success("Profile updated successfully")}catch(a){const e=a.response?.data?.message||"Failed to update profile";throw t.error(e),a}},isAuthenticated:!!e,isAdmin:"ADMIN"===e?.role}},ke=a.createContext(void 0),Ce=()=>{const e=a.useContext(ke);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e},Se=()=>{const[e,s]=a.useState(null),[r,i]=a.useState(!1),{isAuthenticated:l}=Ne();a.useEffect(()=>{l?n():s(null)},[l]);const n=async()=>{if(l)try{i(!0);const e=await ce();s(e)}catch(e){e.response}finally{i(!1)}},c=async e=>{if(l)try{i(!0);const a=await me(e);s(a),t.success("Item removed from cart")}catch(a){const e=a.response?.data?.message||"Failed to remove item from cart";throw t.error(e),a}finally{i(!1)}};return{cart:e,loading:r,addToCart:async(e,a=1,r)=>{if(l)try{i(!0);const l=await oe(e.id,a,r);s(l),t.success(`${e.title} added to cart`)}catch(n){const e=n.response?.data?.message||"Failed to add item to cart";throw t.error(e),n}finally{i(!1)}else t.error("Please sign in to add items to cart")},updateCartItem:async(e,a)=>{if(l)try{if(i(!0),a<=0)return void(await c(e));const r=await de(e,a);s(r),t.success("Cart updated")}catch(r){const e=r.response?.data?.message||"Failed to update cart item";throw t.error(e),r}finally{i(!1)}},removeFromCart:c,clearCart:async()=>{if(l)try{i(!0),await ue(),s(null),t.success("Cart cleared")}catch(e){const s=e.response?.data?.message||"Failed to clear cart";throw t.error(s),e}finally{i(!1)}},getCartItemCount:()=>e?.totalItems||0,getCartTotal:()=>e?.total||0,isInCart:s=>e?.items.some(e=>e.product.id===s)||!1,refreshCart:n}},Pe=a.createContext(void 0),Ie=()=>{const e=a.useContext(Pe);if(void 0===e)throw new Error("useWishlist must be used within a WishlistProvider");return e},_e=()=>{const[e,s]=a.useState(null),[r,i]=a.useState([]),[l,n]=a.useState(!1),{isAuthenticated:c}=Ne();a.useEffect(()=>{c?o():(s(null),i([]))},[c]);const o=async()=>{if(c)try{n(!0);const e=await xe();s(e.wishlist),i(e.products)}catch(e){e.response}finally{n(!1)}};return{wishlist:e,wishlistProducts:r,loading:l,addToWishlist:async e=>{if(c)try{n(!0);const a=await ge(e.id);s(a),r.find(s=>s.id===e.id)||i(s=>[...s,e]),t.success(`${e.title} added to wishlist`)}catch(a){const e=a.response?.data?.message||"Failed to add item to wishlist";throw t.error(e),a}finally{n(!1)}else t.error("Please sign in to add items to wishlist")},removeFromWishlist:async e=>{if(c)try{n(!0);const a=await pe(e);s(a),i(s=>s.filter(s=>s.id!==e));const l=r.find(s=>s.id===e);t.success(`${l?.title||"Item"} removed from wishlist`)}catch(a){const e=a.response?.data?.message||"Failed to remove item from wishlist";throw t.error(e),a}finally{n(!1)}},toggleWishlist:async e=>{if(c)try{n(!0);const a=await fe(e.id);s(a.wishlist),a.added?(r.find(s=>s.id===e.id)||i(s=>[...s,e]),t.success(`${e.title} added to wishlist`)):(i(s=>s.filter(s=>s.id!==e.id)),t.success(`${e.title} removed from wishlist`))}catch(a){const e=a.response?.data?.message||"Failed to update wishlist";throw t.error(e),a}finally{n(!1)}else t.error("Please sign in to manage your wishlist")},clearWishlist:async()=>{if(c)try{n(!0);const e=await ve();s(e),i([]),t.success("Wishlist cleared")}catch(e){const s=e.response?.data?.message||"Failed to clear wishlist";throw t.error(s),e}finally{n(!1)}},isInWishlist:s=>e?.items.some(e=>e.productId===s)||!1,getWishlistItemCount:()=>e?.items.length||0,refreshWishlist:o}};function Ae({className:s,...a}){return e.jsx("div",{"data-slot":"card",className:V("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function ze({className:s,...a}){return e.jsx("div",{"data-slot":"card-header",className:V("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function $e({className:s,...a}){return e.jsx("div",{"data-slot":"card-title",className:V("leading-none font-semibold",s),...a})}function Fe({className:s,...a}){return e.jsx("div",{"data-slot":"card-description",className:V("text-muted-foreground text-sm",s),...a})}function Oe({className:s,...a}){return e.jsx("div",{"data-slot":"card-content",className:V("px-6",s),...a})}const We=a.createContext(void 0),De=()=>{const e=a.useContext(We);if(void 0===e)throw new Error("useComparison must be used within a ComparisonProvider");return e},Ee=()=>{const[e,s]=a.useState([]);a.useEffect(()=>{const e=localStorage.getItem("ritkart_comparison");if(e)try{const a=JSON.parse(e);s(Array.isArray(a)?a:[])}catch(a){localStorage.removeItem("ritkart_comparison")}},[]),a.useEffect(()=>{localStorage.setItem("ritkart_comparison",JSON.stringify(e))},[e]);const t=s=>e.some(e=>e.id===s),i=e.length<4,l=e.length;return{comparedProducts:e,addToComparison:a=>{e.length>=4?r.error("You can only compare up to 4 products at once"):t(a.id)?r.info("Product is already in comparison"):(s(e=>[...e,a]),r.success(`${a.name||a.title} added to comparison`))},removeFromComparison:a=>{const t=e.find(e=>e.id===a);s(e=>e.filter(e=>e.id!==a)),t&&r.success(`${t.name||t.title} removed from comparison`)},clearComparison:()=>{s([]),r.success("Comparison cleared")},isInComparison:t,canAddMore:i,comparisonCount:l,maxComparisonItems:4}},Te=({product:s,size:a="md",variant:t="ghost",showText:r=!1,className:l})=>{const{isInWishlist:n,toggleWishlist:c,loading:o}=Ie(),{isAuthenticated:d}=Ne(),m=n(s.id),u=async e=>{e.preventDefault(),e.stopPropagation(),d&&await c(s)},h={sm:"h-3.5 w-3.5",md:"h-4 w-4",lg:"h-5 w-5"};return r?e.jsxs(K,{variant:"filled"===t?"default":t,size:a,onClick:u,disabled:o,className:V("flex items-center gap-2",m&&"filled"===t&&"bg-red-500 hover:bg-red-600",m&&"outline"===t&&"border-red-500 text-red-500 hover:bg-red-50",m&&"ghost"===t&&"text-red-500 hover:bg-red-50",l),children:[e.jsx(i,{className:V(h[a],m&&"fill-current")}),m?"Remove from Wishlist":"Add to Wishlist"]}):e.jsx(K,{variant:"filled"===t?"default":t,size:a,onClick:u,disabled:o,className:V({sm:"h-8 w-8 p-0",md:"h-9 w-9 p-0",lg:"h-10 w-10 p-0"}[a],"rounded-full",m&&"filled"===t&&"bg-red-500 hover:bg-red-600",m&&"outline"===t&&"border-red-500 text-red-500 hover:bg-red-50",m&&"ghost"===t&&"text-red-500 hover:bg-red-50 hover:text-red-600",!m&&"ghost"===t&&"text-gray-400 hover:text-red-500",l),title:m?"Remove from Wishlist":"Add to Wishlist",children:e.jsx(i,{className:V(h[a],m&&"fill-current")})})};function Re({className:s,...a}){return e.jsx(l,{"data-slot":"label",className:V("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}function Me({className:s,orientation:a="horizontal",decorative:t=!0,...r}){return e.jsx(n,{"data-slot":"separator-root",decorative:t,orientation:a,className:V("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...r})}function Be({className:s,...a}){return e.jsx(c,{"data-slot":"tabs",className:V("flex flex-col gap-2",s),...a})}function Ye({className:s,...a}){return e.jsx(o,{"data-slot":"tabs-list",className:V("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function qe({className:s,...a}){return e.jsx(d,{"data-slot":"tabs-trigger",className:V("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function Le({className:s,...a}){return e.jsx(m,{"data-slot":"tabs-content",className:V("flex-1 outline-none",s),...a})}function Ue({className:s,...a}){return e.jsx(u,{"data-slot":"avatar",className:V("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function Je({className:s,...a}){return e.jsx(h,{"data-slot":"avatar-image",className:V("aspect-square size-full",s),...a})}function Ve({className:s,...a}){return e.jsx(x,{"data-slot":"avatar-fallback",className:V("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}const He=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{comparedProducts:s,removeFromComparison:a,clearComparison:t}=De(),{addToCart:r,loading:i}=Ce(),{isAuthenticated:l}=Ne(),n=g(),c=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o=e=>!e.originalPrice||e.originalPrice<=e.price?0:Math.round((e.originalPrice-e.price)/e.originalPrice*100),d=(e,s)=>e.attributes&&e.attributes[s]?e.attributes[s]:e.specifications&&e.specifications[s]?e.specifications[s]:null;if(0===s.length)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx(p,{className:"w-24 h-24 mx-auto text-gray-400 mb-6"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Products to Compare"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Start browsing products and add them to comparison to see a detailed side-by-side view."}),e.jsx(f,{to:"/",children:e.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Browse Products"]})})]})})});const m=(()=>{const e=new Set;return s.forEach(s=>{s.attributes&&Object.keys(s.attributes).forEach(s=>e.add(s)),s.specifications&&Object.keys(s.specifications).forEach(s=>e.add(s))}),Array.from(e)})();return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(K,{variant:"ghost",onClick:()=>n(-1),className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),"Back"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(p,{className:"w-8 h-8 text-blue-600"}),"Product Comparison"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Comparing ",s.length," product",1!==s.length?"s":""]})]})]}),e.jsxs(K,{variant:"outline",onClick:t,className:"text-red-600 border-red-200 hover:bg-red-50",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Clear All"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-4 w-40 bg-gray-50",children:e.jsx("span",{className:"font-semibold text-gray-900",children:"Products"})}),s.map(s=>e.jsx("th",{className:"text-center p-4 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(s.id),className:"absolute -top-2 -right-2 p-1 rounded-full bg-red-100 hover:bg-red-200 text-red-600 transition-colors",children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-32 h-32 mx-auto bg-gray-100 rounded-lg overflow-hidden mb-4",children:s.thumbnail||s.images?.[0]?e.jsx("img",{src:s.thumbnail||s.images[0],alt:s.name||s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500 text-sm",children:"No Image"})}),e.jsx(f,{to:`/product/${s.id}`,className:"font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 text-sm mb-2 block",children:s.name||s.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.brand})]})},s.id))]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Price"}),s.map(s=>e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:c(s.price)}),s.originalPrice&&s.originalPrice>s.price&&e.jsx("div",{className:"text-sm text-gray-500 line-through",children:c(s.originalPrice)}),o(s)>0&&e.jsxs(G,{className:"bg-red-500 text-white text-xs",children:["-",o(s),"% OFF"]})]})},s.id))]}),e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Rating"}),s.map(s=>{return e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[(a=s.rating||s.averageRating||0,e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((s,t)=>e.jsx(C,{className:"w-4 h-4 "+(t<Math.floor(a)?"text-yellow-400 fill-current":t<a?"text-yellow-400 fill-current opacity-50":"text-gray-300")},t)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",a,")"]})]})),s.reviewCount&&e.jsxs("span",{className:"text-xs text-gray-500",children:[s.reviewCount," reviews"]})]})},s.id);var a})]}),e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Availability"}),s.map(s=>e.jsxs("td",{className:"p-4 text-center",children:[s.stock>0?e.jsxs("div",{className:"flex items-center justify-center gap-1 text-green-600",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"In Stock"})]}):e.jsxs("div",{className:"flex items-center justify-center gap-1 text-red-600",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Out of Stock"})]}),s.stock>0&&s.stock<=10&&e.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["Only ",s.stock," left"]})]},s.id))]}),e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50",children:"Description"}),s.map(s=>e.jsx("td",{className:"p-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:s.shortDescription||s.description||"No description available"})},s.id))]}),m.map(a=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900 bg-gray-50 capitalize",children:a.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),s.map(s=>e.jsx("td",{className:"p-4 text-center",children:e.jsx("span",{className:"text-sm text-gray-600",children:d(s,a)||e.jsx("div",{className:"flex items-center justify-center text-gray-400",children:e.jsx(w,{className:"w-4 h-4"})})})},s.id))]},a)),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"p-4 font-medium text-gray-900",children:"Actions"}),s.map(s=>e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{onClick:()=>(async e=>{if(l)try{await r(e,1)}catch(s){}else n("/login")})(s),disabled:i||0===s.stock,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"sm",children:i?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):0===s.stock?"Out of Stock":e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})}),e.jsx(Te,{product:s,showText:!0,size:"sm",variant:"outline",className:"w-full"}),e.jsx(f,{to:`/product/${s.id}`,children:e.jsx(K,{variant:"ghost",size:"sm",className:"w-full",children:"View Details"})})]})},s.id))]})]})]})})}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"You can compare up to 4 products. Add more products from our catalog to compare."}),e.jsx(f,{to:"/",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Continue Shopping"})]})]})})}},Symbol.toStringTag,{value:"Module"}));function Ke({className:s,...a}){return e.jsx(S,{"data-slot":"switch",className:V("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(P,{"data-slot":"switch-thumb",className:V("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Ze=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{user:s,logout:t}=Ne(),i=I(),[l,n]=a.useState(!1),[c,o]=a.useState({firstName:s?.firstName||"",lastName:s?.lastName||"",email:s?.email||"",phoneNumber:s?.phoneNumber||"",dateOfBirth:"",gender:""}),[d,m]=a.useState({orderUpdates:!0,promotions:!1,newsletter:!0,security:!0}),u=[{id:"profile",label:"Profile",icon:e.jsx(T,{className:"w-4 h-4"})},{id:"orders",label:"Orders",icon:e.jsx(v,{className:"w-4 h-4"})},{id:"addresses",label:"Addresses",icon:e.jsx(D,{className:"w-4 h-4"})},{id:"payment",label:"Payment Methods",icon:e.jsx(E,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:e.jsx(R,{className:"w-4 h-4"})},{id:"security",label:"Security",icon:e.jsx(M,{className:"w-4 h-4"})},{id:"settings",label:"Settings",icon:e.jsx(B,{className:"w-4 h-4"})}];return e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Ae,{children:e.jsxs(Oe,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs(Ue,{className:"w-20 h-20 mx-auto mb-4",children:[e.jsx(Je,{src:s?.profilePicture}),e.jsxs(Ve,{className:"text-lg",children:[s?.firstName?.[0],s?.lastName?.[0]]})]}),e.jsxs("h3",{className:"font-semibold text-lg",children:[s?.firstName," ",s?.lastName]}),e.jsx("p",{className:"text-gray-600 text-sm",children:s?.email}),e.jsx(G,{variant:"outline",className:"mt-2",children:s?.role})]}),e.jsx(Me,{className:"mb-4"}),e.jsx("nav",{className:"space-y-2",children:u.map(s=>e.jsxs(f,{to:`/account/${s.id}`,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors "+(i.pathname.includes(s.id)||"/account"===i.pathname&&"profile"===s.id?"bg-orange-100 text-orange-700":"hover:bg-gray-100"),children:[s.icon,e.jsx("span",{className:"text-sm font-medium",children:s.label})]},s.id))}),e.jsx(Me,{className:"my-4"}),e.jsxs(K,{variant:"ghost",onClick:()=>{t(),r.success("Logged out successfully")},className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(_,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(Be,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[e.jsx(qe,{value:"profile",children:"Profile"}),e.jsx(qe,{value:"orders",children:"Orders"}),e.jsx(qe,{value:"addresses",children:"Addresses"}),e.jsx(qe,{value:"payment",children:"Payment"})]}),e.jsx(Le,{value:"profile",children:e.jsxs(Ae,{children:[e.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[e.jsx($e,{children:"Personal Information"}),l?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",onClick:()=>n(!1),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(K,{onClick:()=>{n(!1),r.success("Profile updated successfully!")},children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):e.jsxs(K,{variant:"outline",onClick:()=>n(!0),children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),e.jsxs(Oe,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(Ue,{className:"w-24 h-24",children:[e.jsx(Je,{src:s?.profilePicture}),e.jsxs(Ve,{className:"text-xl",children:[s?.firstName?.[0],s?.lastName?.[0]]})]}),l&&e.jsxs(K,{variant:"outline",size:"sm",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Change Photo"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"firstName",children:"First Name"}),e.jsx(Q,{id:"firstName",value:c.firstName,onChange:e=>o({...c,firstName:e.target.value}),disabled:!l})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Q,{id:"lastName",value:c.lastName,onChange:e=>o({...c,lastName:e.target.value}),disabled:!l})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(Q,{id:"email",type:"email",value:c.email,onChange:e=>o({...c,email:e.target.value}),disabled:!l,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(Q,{id:"phone",value:c.phoneNumber,onChange:e=>o({...c,phoneNumber:e.target.value}),disabled:!l,className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),e.jsx(Q,{id:"dateOfBirth",type:"date",value:c.dateOfBirth,onChange:e=>o({...c,dateOfBirth:e.target.value}),disabled:!l,className:"pl-10"})]})]})]}),e.jsx(Me,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-4",children:Object.entries(d).map(([s,a])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"text-sm text-gray-600",children:["orderUpdates"===s&&"Receive updates about your orders","promotions"===s&&"Get notified about special offers and deals","newsletter"===s&&"Weekly newsletter with new products","security"===s&&"Important security notifications"]})]}),e.jsx(Ke,{checked:a,onCheckedChange:e=>m({...d,[s]:e})})]},s))})]})]})]})}),e.jsx(Le,{value:"orders",children:e.jsxs(Ae,{children:[e.jsx(ze,{children:e.jsx($e,{children:"Order History"})}),e.jsx(Oe,{children:e.jsx("div",{className:"space-y-4",children:[{id:"RK12345678",date:"2024-01-15",status:"Delivered",total:299.99,items:3},{id:"RK12345679",date:"2024-01-10",status:"Shipped",total:159.99,items:2},{id:"RK12345680",date:"2024-01-05",status:"Processing",total:89.99,items:1}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Order #",s.id]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[new Date(s.date).toLocaleDateString()," • ",s.items," items"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(G,{variant:"Delivered"===s.status?"default":"Shipped"===s.status?"secondary":"outline",children:s.status}),e.jsxs("div",{className:"font-medium mt-1",children:["$",s.total]})]})]},s.id))})})]})}),e.jsx(Le,{value:"addresses",children:e.jsxs(Ae,{children:[e.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[e.jsx($e,{children:"Saved Addresses"}),e.jsxs(K,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Add New Address"]})]}),e.jsx(Oe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:1,type:"Home",name:"John Doe",address:"123 Main Street",city:"New York",state:"NY",zipCode:"10001",isDefault:!0},{id:2,type:"Work",name:"John Doe",address:"456 Business Ave",city:"New York",state:"NY",zipCode:"10002",isDefault:!1}].map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(G,{variant:"outline",children:s.type}),s.isDefault&&e.jsx(G,{variant:"secondary",children:"Default"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-600",children:s.address}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.city,", ",s.state," ",s.zipCode]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(K,{variant:"outline",size:"sm",children:"Edit"}),e.jsx(K,{variant:"outline",size:"sm",className:"text-red-600",children:"Delete"})]})]},s.id))})})]})}),e.jsx(Le,{value:"payment",children:e.jsxs(Ae,{children:[e.jsxs(ze,{className:"flex flex-row items-center justify-between",children:[e.jsx($e,{children:"Payment Methods"}),e.jsxs(K,{children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Add New Card"]})]}),e.jsx(Oe,{children:e.jsx("div",{className:"space-y-4",children:[{id:1,type:"Visa",last4:"1234",expiryMonth:"12",expiryYear:"2025",isDefault:!0},{id:2,type:"Mastercard",last4:"5678",expiryMonth:"08",expiryYear:"2026",isDefault:!1}].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-8 bg-gray-100 rounded flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.type," ending in ",s.last4]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Expires ",s.expiryMonth,"/",s.expiryYear]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.isDefault&&e.jsx(G,{variant:"secondary",children:"Default"}),e.jsx(K,{variant:"outline",size:"sm",children:"Edit"}),e.jsx(K,{variant:"outline",size:"sm",className:"text-red-600",children:"Remove"})]})]},s.id))})})]})})]})})]})})})}},Symbol.toStringTag,{value:"Module"}));function Ge({className:s,...a}){return e.jsx("div",{"data-slot":"skeleton",className:V("bg-accent animate-pulse rounded-md",s),...a})}const Qe=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{wishlist:s,wishlistProducts:t,loading:r,removeFromWishlist:l,clearWishlist:n,getWishlistItemCount:c,refreshWishlist:o}=Ie(),{addToCart:d,isInCart:m}=Ce();a.useEffect(()=>{o()},[]);const u=async e=>{try{await l(e)}catch(s){}},h=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((s,a)=>e.jsxs(Ae,{className:"overflow-hidden",children:[e.jsx(Ge,{className:"h-48 w-full"}),e.jsxs(Oe,{className:"p-4",children:[e.jsx(Ge,{className:"h-4 w-3/4 mb-2"}),e.jsx(Ge,{className:"h-4 w-1/2 mb-2"}),e.jsx(Ge,{className:"h-6 w-1/4 mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ge,{className:"h-9 flex-1"}),e.jsx(Ge,{className:"h-9 w-9"})]})]})]},a))}),x=()=>e.jsxs("div",{className:"text-center py-16",children:[e.jsx(i,{className:"mx-auto h-24 w-24 text-gray-300 mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Save items you're interested in to your wishlist so you can easily find them later."}),e.jsx(f,{to:"/products",children:e.jsx(K,{size:"lg",children:"Continue Shopping"})})]});if(r&&!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(Ge,{className:"h-8 w-48 mb-2"}),e.jsx(Ge,{className:"h-4 w-32"})]}),e.jsx(h,{})]})});const g=c();return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Wishlist"}),e.jsx("p",{className:"text-gray-600",children:0===g?"No items":`${g} item${1!==g?"s":""}`})]}),g>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(K,{variant:"outline",onClick:async()=>{if(window.confirm("Are you sure you want to clear your entire wishlist?"))try{await n()}catch(e){}},className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Clear All"]}),e.jsxs(K,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Share"]})]})]}),0===g?e.jsx(x,{}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(s=>e.jsxs(Ae,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{to:`/products/${s.id}`,children:e.jsx("img",{src:s.thumbnail,alt:s.title,className:"h-48 w-full object-cover group-hover:scale-105 transition-transform duration-300"})}),s.discount&&s.discount>0&&e.jsxs(G,{className:"absolute top-2 left-2 bg-red-500 text-white",children:["-",s.discount,"%"]}),e.jsx(K,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-white/80 hover:bg-white text-red-500 hover:text-red-600",onClick:()=>u(s.id),children:e.jsx(i,{className:"h-4 w-4 fill-current"})})]}),e.jsxs(Oe,{className:"p-4",children:[e.jsx(f,{to:`/products/${s.id}`,children:e.jsx("h3",{className:"font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:s.title})}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.brand}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",s.price.toFixed(2)]}),s.originalPrice&&s.originalPrice>s.price&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",s.originalPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((a,t)=>e.jsx("span",{className:"text-sm "+(t<Math.floor(s.rating)?"text-yellow-400":"text-gray-300"),children:"★"},t))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.reviewCount,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{className:"w-full",onClick:()=>(async e=>{try{await d(e)}catch(s){}})(s),disabled:m(s.id)||0===s.stock,children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),m(s.id)?"In Cart":0===s.stock?"Out of Stock":"Add to Cart"]}),e.jsxs(K,{variant:"outline",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>u(s.id),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]},s.id))})]})})}},Symbol.toStringTag,{value:"Module"}));export{Ue as A,K as B,Ae as C,He as D,Qe as E,Q as I,Re as L,Ze as P,Me as S,Be as T,Te as W,G as a,ze as b,V as c,$e as d,Oe as e,Ye as f,qe as g,Le as h,Fe as i,Ce as j,ne as k,De as l,Je as m,Ve as n,Ie as o,le as p,we as q,he as r,be as s,Se as t,Ne as u,ke as v,_e as w,Pe as x,Ee as y,We as z};
