import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport {\n  Search,\n  ShoppingCart,\n  User,\n  MapPin,\n  Menu,\n  Heart,\n  ChevronDown,\n  Globe\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator,\n} from '@/components/ui/dropdown-menu';\nimport { Badge } from '@/components/ui/badge';\nimport { useCart } from '@/hooks/useCart';\nimport { useAuth } from '@/hooks/useAuth';\n\nconst Header: React.FC = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const navigate = useNavigate();\n  const { cart } = useCart();\n  const { user, logout } = useAuth();\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      navigate(`/search?q=${encodeURIComponent(searchQuery.trim())}`);\n    }\n  };\n\n  const cartItemCount = cart?.totalItems || 0;\n\n  return (\n    <header className=\"w-full\">\n      {/* Main Header */}\n      <div className=\"amazon-header py-2\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            {/* Logo */}\n            <Link to=\"/\" className=\"flex items-center gap-2 text-white hover:opacity-80 transition-opacity\">\n              <div className=\"text-2xl font-bold\">\n                RitKART\n              </div>\n              <div className=\"text-xs\">.com</div>\n            </Link>\n\n            {/* Delivery Location */}\n            <div className=\"hidden lg:flex items-center gap-1 text-white hover:border border-white px-2 py-1 rounded cursor-pointer\">\n              <MapPin className=\"w-4 h-4\" />\n              <div className=\"text-xs\">\n                <div className=\"text-gray-300\">Deliver to</div>\n                <div className=\"font-bold\">New York 10001</div>\n              </div>\n            </div>\n\n            {/* Search Bar */}\n            <form onSubmit={handleSearch} className=\"flex-1 max-w-2xl\">\n              <div className=\"flex\">\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button \n                      variant=\"outline\" \n                      className=\"bg-gray-200 text-gray-700 border-none rounded-l-md rounded-r-none px-3 py-2 h-10\"\n                    >\n                      All\n                      <ChevronDown className=\"w-3 h-3 ml-1\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent>\n                    <DropdownMenuItem>All Categories</DropdownMenuItem>\n                    <DropdownMenuItem>Electronics</DropdownMenuItem>\n                    <DropdownMenuItem>Fashion</DropdownMenuItem>\n                    <DropdownMenuItem>Home & Garden</DropdownMenuItem>\n                    <DropdownMenuItem>Books</DropdownMenuItem>\n                    <DropdownMenuItem>Sports</DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n                \n                <Input\n                  type=\"text\"\n                  placeholder=\"Search RitKART\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"flex-1 rounded-none border-none h-10 focus:ring-2 focus:ring-orange-400\"\n                />\n                \n                <Button \n                  type=\"submit\"\n                  className=\"amazon-orange rounded-l-none rounded-r-md px-4 h-10\"\n                >\n                  <Search className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </form>\n\n            {/* Language & Country */}\n            <div className=\"hidden md:flex items-center text-white hover:border border-white px-2 py-1 rounded cursor-pointer\">\n              <Globe className=\"w-4 h-4 mr-1\" />\n              <span className=\"text-sm font-bold\">EN</span>\n            </div>\n\n            {/* Account */}\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <div className=\"flex items-center text-white hover:border border-white px-2 py-1 rounded cursor-pointer\">\n                  <User className=\"w-4 h-4 mr-1\" />\n                  <div className=\"text-xs hidden md:block\">\n                    <div className=\"text-gray-300\">Hello, {user ? user.firstName : 'Sign in'}</div>\n                    <div className=\"font-bold\">Account & Lists</div>\n                  </div>\n                  <ChevronDown className=\"w-3 h-3 ml-1\" />\n                </div>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent className=\"w-64\">\n                {!user ? (\n                  <>\n                    <div className=\"p-4\">\n                      <Link to=\"/login\">\n                        <Button className=\"w-full amazon-secondary-button\">\n                          Sign In\n                        </Button>\n                      </Link>\n                      <p className=\"text-xs text-center mt-2\">\n                        New customer? <Link to=\"/register\" className=\"text-blue-600 hover:underline\">Start here.</Link>\n                      </p>\n                    </div>\n                    <DropdownMenuSeparator />\n                  </>\n                ) : (\n                  <>\n                    <DropdownMenuItem asChild>\n                      <Link to=\"/account\">Your Account</Link>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem asChild>\n                      <Link to=\"/orders\">Your Orders</Link>\n                    </DropdownMenuItem>\n                    <DropdownMenuItem asChild>\n                      <Link to=\"/wishlist\">Your Wish List</Link>\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem onClick={logout}>\n                      Sign Out\n                    </DropdownMenuItem>\n                  </>\n                )}\n              </DropdownMenuContent>\n            </DropdownMenu>\n\n            {/* Returns & Orders */}\n            <Link \n              to={user ? \"/orders\" : \"/login\"} \n              className=\"hidden lg:flex items-center text-white hover:border border-white px-2 py-1 rounded\"\n            >\n              <div className=\"text-xs\">\n                <div className=\"text-gray-300\">Returns</div>\n                <div className=\"font-bold\">& Orders</div>\n              </div>\n            </Link>\n\n            {/* Cart */}\n            <Link \n              to=\"/cart\" \n              className=\"flex items-center text-white hover:border border-white px-2 py-1 rounded relative\"\n            >\n              <div className=\"relative\">\n                <ShoppingCart className=\"w-6 h-6\" />\n                {cartItemCount > 0 && (\n                  <Badge \n                    className=\"absolute -top-2 -right-2 bg-orange-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center rounded-full\"\n                  >\n                    {cartItemCount > 99 ? '99+' : cartItemCount}\n                  </Badge>\n                )}\n              </div>\n              <span className=\"text-sm font-bold ml-1 hidden md:inline\">Cart</span>\n            </Link>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Bar */}\n      <div className=\"bg-[#37475A] text-white py-2\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex items-center gap-6\">\n            {/* All Menu */}\n            <Button\n              variant=\"ghost\"\n              className=\"text-white hover:bg-white/10 gap-2 px-3 py-1\"\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n            >\n              <Menu className=\"w-4 h-4\" />\n              All\n            </Button>\n\n            {/* Navigation Links */}\n            <nav className=\"hidden md:flex items-center gap-6 text-sm\">\n              <Link to=\"/deals\" className=\"hover:underline\">Today's Deals</Link>\n              <Link to=\"/customer-service\" className=\"hover:underline\">Customer Service</Link>\n              <Link to=\"/registry\" className=\"hover:underline\">Registry</Link>\n              <Link to=\"/gift-cards\" className=\"hover:underline\">Gift Cards</Link>\n              <Link to=\"/sell\" className=\"hover:underline\">Sell</Link>\n            </nav>\n\n            {/* Mobile Navigation Toggle */}\n            <div className=\"md:hidden ml-auto\">\n              <Button\n                variant=\"ghost\"\n                className=\"text-white hover:bg-white/10\"\n                onClick={() => setIsMenuOpen(!isMenuOpen)}\n              >\n                <Menu className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {isMenuOpen && (\n        <div className=\"md:hidden bg-white border-b shadow-lg\">\n          <div className=\"container mx-auto px-4 py-4\">\n            <nav className=\"flex flex-col gap-4\">\n              <Link to=\"/deals\" className=\"text-gray-700 hover:text-orange-600\">Today's Deals</Link>\n              <Link to=\"/customer-service\" className=\"text-gray-700 hover:text-orange-600\">Customer Service</Link>\n              <Link to=\"/registry\" className=\"text-gray-700 hover:text-orange-600\">Registry</Link>\n              <Link to=\"/gift-cards\" className=\"text-gray-700 hover:text-orange-600\">Gift Cards</Link>\n              <Link to=\"/sell\" className=\"text-gray-700 hover:text-orange-600\">Sell</Link>\n              <hr className=\"my-2\" />\n              <Link to=\"/electronics\" className=\"text-gray-700 hover:text-orange-600\">Electronics</Link>\n              <Link to=\"/fashion\" className=\"text-gray-700 hover:text-orange-600\">Fashion</Link>\n              <Link to=\"/home-garden\" className=\"text-gray-700 hover:text-orange-600\">Home & Garden</Link>\n              <Link to=\"/books\" className=\"text-gray-700 hover:text-orange-600\">Books</Link>\n              <Link to=\"/sports\" className=\"text-gray-700 hover:text-orange-600\">Sports & Outdoors</Link>\n            </nav>\n          </div>\n        </div>\n      )}\n    </header>\n  );\n};\n\nexport default Header;