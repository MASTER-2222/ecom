import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ChevronLeft, ChevronRight, Star, ArrowRight } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport ProductCard from '@/components/ProductCard';\nimport { Product } from '@/types';\nimport { productsAPI } from '@/backend/api';\n\nconst HomePage: React.FC = () => {\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [featuredProducts, setFeaturedProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Hero carousel slides\n  const heroSlides = [\n    {\n      id: 1,\n      image: '/api/placeholder/1200/400',\n      title: 'Electronics Sale',\n      subtitle: 'Up to 70% off on electronics',\n      cta: 'Shop now',\n      link: '/electronics'\n    },\n    {\n      id: 2,\n      image: '/api/placeholder/1200/400',\n      title: 'Fashion Week',\n      subtitle: 'Trending styles for everyone',\n      cta: 'Explore fashion',\n      link: '/fashion'\n    },\n    {\n      id: 3,\n      image: '/api/placeholder/1200/400',\n      title: 'Home & Garden',\n      subtitle: 'Transform your space',\n      cta: 'Shop home',\n      link: '/home-garden'\n    }\n  ];\n\n  // Category cards\n  const categories = [\n    {\n      title: 'Electronics',\n      image: '/api/placeholder/300/300',\n      link: '/electronics',\n      items: ['Smartphones', 'Laptops', 'Headphones', 'Tablets']\n    },\n    {\n      title: 'Fashion',\n      image: '/api/placeholder/300/300',\n      link: '/fashion',\n      items: ['Men\\'s Clothing', 'Women\\'s Clothing', 'Shoes', 'Accessories']\n    },\n    {\n      title: 'Home & Kitchen',\n      image: '/api/placeholder/300/300',\n      link: '/home-kitchen',\n      items: ['Furniture', 'Kitchen', 'Bedding', 'Decor']\n    },\n    {\n      title: 'Books',\n      image: '/api/placeholder/300/300',\n      link: '/books',\n      items: ['Fiction', 'Non-fiction', 'Educational', 'Children']\n    }\n  ];\n\n  // Today's deals\n  const todaysDeals = [\n    {\n      id: 1,\n      title: 'Wireless Headphones',\n      originalPrice: 99.99,\n      price: 59.99,\n      discount: 40,\n      image: '/api/placeholder/200/200',\n      rating: 4.5,\n      reviews: 1250\n    },\n    {\n      id: 2,\n      title: 'Smart Watch',\n      originalPrice: 299.99,\n      price: 199.99,\n      discount: 33,\n      image: '/api/placeholder/200/200',\n      rating: 4.3,\n      reviews: 892\n    },\n    {\n      id: 3,\n      title: 'Bluetooth Speaker',\n      originalPrice: 79.99,\n      price: 49.99,\n      discount: 38,\n      image: '/api/placeholder/200/200',\n      rating: 4.6,\n      reviews: 2100\n    },\n    {\n      id: 4,\n      title: 'Laptop Stand',\n      originalPrice: 49.99,\n      price: 29.99,\n      discount: 40,\n      image: '/api/placeholder/200/200',\n      rating: 4.4,\n      reviews: 567\n    }\n  ];\n\n  useEffect(() => {\n    // Auto-rotate hero carousel\n    const interval = setInterval(() => {\n      setCurrentSlide((prev) => (prev + 1) % heroSlides.length);\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [heroSlides.length]);\n\n  useEffect(() => {\n    // Fetch featured products\n    const fetchFeaturedProducts = async () => {\n      try {\n        // For now, we'll create mock data since backend isn't connected yet\n        const mockProducts: Product[] = [\n          {\n            id: '1',\n            title: 'iPhone 15 Pro Max',\n            description: 'Latest iPhone with amazing features',\n            shortDescription: 'Premium smartphone',\n            brand: 'Apple',\n            category: { id: '1', name: 'Electronics', slug: 'electronics', productCount: 100, isActive: true },\n            price: 1199.99,\n            originalPrice: 1299.99,\n            discount: 8,\n            images: ['/api/placeholder/400/400'],\n            thumbnail: '/api/placeholder/400/400',\n            rating: 4.7,\n            reviewCount: 2543,\n            stock: 50,\n            sku: 'IPH15PM001',\n            specifications: {},\n            features: [],\n            tags: [],\n            isActive: true,\n            isFeatured: true,\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n          }\n        ];\n        setFeaturedProducts(mockProducts);\n      } catch (error) {\n        console.error('Failed to fetch featured products:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchFeaturedProducts();\n  }, []);\n\n  const nextSlide = () => {\n    setCurrentSlide((prev) => (prev + 1) % heroSlides.length);\n  };\n\n  const prevSlide = () => {\n    setCurrentSlide((prev) => (prev - 1 + heroSlides.length) % heroSlides.length);\n  };\n\n  return (\n    <div className=\"bg-white\">\n      {/* Hero Carousel */}\n      <section className=\"relative h-96 md:h-[500px] overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-transparent to-gray-50 z-10\"></div>\n        \n        {heroSlides.map((slide, index) => (\n          <div\n            key={slide.id}\n            className={`absolute inset-0 transition-opacity duration-500 ${\n              index === currentSlide ? 'opacity-100' : 'opacity-0'\n            }`}\n          >\n            <div className=\"h-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white\">\n              <div className=\"text-center z-20 px-4\">\n                <h1 className=\"text-4xl md:text-6xl font-bold mb-4\">{slide.title}</h1>\n                <p className=\"text-xl md:text-2xl mb-8 text-blue-100\">{slide.subtitle}</p>\n                <Link to={slide.link}>\n                  <Button className=\"amazon-orange text-lg px-8 py-3\">\n                    {slide.cta}\n                    <ArrowRight className=\"w-5 h-5 ml-2\" />\n                  </Button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {/* Carousel Controls */}\n        <button\n          onClick={prevSlide}\n          className=\"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-colors\"\n        >\n          <ChevronLeft className=\"w-6 h-6 text-gray-800\" />\n        </button>\n        \n        <button\n          onClick={nextSlide}\n          className=\"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-lg transition-colors\"\n        >\n          <ChevronRight className=\"w-6 h-6 text-gray-800\" />\n        </button>\n        \n        {/* Slide Indicators */}\n        <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 flex gap-2\">\n          {heroSlides.map((_, index) => (\n            <button\n              key={index}\n              onClick={() => setCurrentSlide(index)}\n              className={`w-3 h-3 rounded-full transition-colors ${\n                index === currentSlide ? 'bg-white' : 'bg-white/50'\n              }`}\n            />\n          ))}\n        </div>\n      </section>\n\n      {/* Category Grid */}\n      <section className=\"container mx-auto px-4 py-8 -mt-20 relative z-30\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {categories.map((category, index) => (\n            <Card key={index} className=\"amazon-card hover:scale-105 transition-transform\">\n              <CardContent className=\"p-6\">\n                <h3 className=\"text-lg font-bold mb-4\">{category.title}</h3>\n                <div className=\"aspect-square mb-4 bg-gray-100 rounded-lg overflow-hidden\">\n                  <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500\">\n                    {category.title} Image\n                  </div>\n                </div>\n                <ul className=\"space-y-1 text-sm text-gray-600 mb-4\">\n                  {category.items.map((item, idx) => (\n                    <li key={idx} className=\"hover:text-orange-600 cursor-pointer\">{item}</li>\n                  ))}\n                </ul>\n                <Link to={category.link} className=\"text-blue-600 hover:text-orange-600 text-sm font-medium\">\n                  Shop now\n                </Link>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </section>\n\n      {/* Today's Deals */}\n      <section className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold mb-2\">Today's Deals</h2>\n          <p className=\"text-gray-600\">Limited time offers on top products</p>\n        </div>\n        \n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {todaysDeals.map((deal) => (\n            <Card key={deal.id} className=\"amazon-card group\">\n              <CardContent className=\"p-4\">\n                <div className=\"relative mb-4\">\n                  <Badge className=\"absolute top-2 left-2 bg-red-500 text-white font-bold\">\n                    {deal.discount}% OFF\n                  </Badge>\n                  <div className=\"aspect-square bg-gray-100 rounded-lg overflow-hidden\">\n                    <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center text-gray-500 text-sm\">\n                      Product Image\n                    </div>\n                  </div>\n                </div>\n                \n                <h3 className=\"font-medium mb-2 group-hover:text-orange-600 transition-colors line-clamp-2\">\n                  {deal.title}\n                </h3>\n                \n                <div className=\"flex items-center gap-1 mb-2\">\n                  <div className=\"flex items-center\">\n                    {[...Array(5)].map((_, i) => (\n                      <Star\n                        key={i}\n                        className={`w-4 h-4 ${\n                          i < Math.floor(deal.rating)\n                            ? 'text-orange-400 fill-current'\n                            : 'text-gray-300'\n                        }`}\n                      />\n                    ))}\n                  </div>\n                  <span className=\"text-sm text-gray-600\">({deal.reviews.toLocaleString()})</span>\n                </div>\n                \n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"amazon-price text-xl font-bold\">${deal.price}</span>\n                    <span className=\"text-sm text-gray-500 line-through\">${deal.originalPrice}</span>\n                  </div>\n                </div>\n                \n                <Button className=\"w-full mt-4 amazon-button\">\n                  Add to Cart\n                </Button>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n        \n        <div className=\"text-center mt-8\">\n          <Link to=\"/deals\">\n            <Button variant=\"outline\" className=\"border-gray-300 hover:border-orange-500\">\n              See all deals\n              <ArrowRight className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </Link>\n        </div>\n      </section>\n\n      {/* Featured Products */}\n      <section className=\"bg-gray-50 py-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold mb-2\">Featured Products</h2>\n            <p className=\"text-gray-600\">Hand-picked products just for you</p>\n          </div>\n          \n          {loading ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {[...Array(4)].map((_, i) => (\n                <div key={i} className=\"bg-white rounded-lg p-4 animate-pulse\">\n                  <div className=\"aspect-square bg-gray-200 rounded-lg mb-4\"></div>\n                  <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\n                  <div className=\"h-4 bg-gray-200 rounded w-2/3\"></div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {featuredProducts.map((product) => (\n                <ProductCard key={product.id} product={product} />\n              ))}\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Call to Action */}\n      <section className=\"amazon-header py-16\">\n        <div className=\"container mx-auto px-4 text-center text-white\">\n          <h2 className=\"text-3xl font-bold mb-4\">Join millions of happy customers</h2>\n          <p className=\"text-xl mb-8 text-blue-100\">Sign up today and get exclusive deals and early access to sales</p>\n          <Link to=\"/register\">\n            <Button className=\"amazon-secondary-button text-lg px-8 py-3\">\n              Create Your Account\n              <ArrowRight className=\"w-5 h-5 ml-2\" />\n            </Button>\n          </Link>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default HomePage;